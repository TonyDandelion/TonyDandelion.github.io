

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;dark&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="知无者">
  <meta name="keywords" content="">
  <title>R语言笔记之数据可视化 - 代码即艺术</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/monokai.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>代码即艺术</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/introduction/">
                <i class="iconfont icon-map"></i>
                入门
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/404page.html">
                <i class="iconfont icon-heartbeat"></i>
                公益404
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="R语言笔记之数据可视化">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2016-05-14 22:24" pubdate>
        2016年5月14日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      8.1k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      125
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">R语言笔记之数据可视化</h1>
            
            <div class="markdown-body">
              <p>使用R语言进行数据可视化</p>
<a id="more"></a>
<h1 id="R语言杂七杂八"><a href="#R语言杂七杂八" class="headerlink" title="R语言杂七杂八"></a>R语言杂七杂八</h1><h2 id="与R语言有关的应用工具"><a href="#与R语言有关的应用工具" class="headerlink" title="与R语言有关的应用工具"></a>与R语言有关的应用工具</h2><blockquote>
<p>Shiny</p>
</blockquote>
<ul>
<li><strong>Shiny:制作嵌入网页的交互式R程序的平台。Shiny 是一个开源的 R 包，它为使用 R 构建 Web 应用提供了一个优雅有力的   Web 框架。Shiny 帮助你在不需要前端知识的条件下将数据分析转变为可交互的 Web 应用。</strong></li>
</ul>
<blockquote>
<p>Slidify</p>
</blockquote>
<ul>
<li><strong>Slidify:制作和发布基于R的报告（PPT）</strong></li>
</ul>
<blockquote>
<p>RPubs</p>
</blockquote>
<ul>
<li><strong>你可以在<a target="_blank" rel="noopener" href="http://www.rpubs.com/">RPubs</a>上面发布，查看报告。</strong></li>
</ul>
<blockquote>
<p>kaggle</p>
</blockquote>
<ul>
<li><strong>欢迎来到<a target="_blank" rel="noopener" href="http://www.kaggle.com/">kaggle</a>挑战自我。</strong></li>
</ul>
<h2 id="探索性数据分析："><a href="#探索性数据分析：" class="headerlink" title="探索性数据分析："></a>探索性数据分析：</h2><p>通过做图让我们了解数据的属性和模式。</p>
<h2 id="统计推断："><a href="#统计推断：" class="headerlink" title="统计推断："></a>统计推断：</h2><p>基于数据得出正式结论的过程。有不确定性和</p>
<h2 id="回归分析："><a href="#回归分析：" class="headerlink" title="回归分析："></a>回归分析：</h2><p>线性回归分析，用历史数据拟合线性模型来预测未来趋势。预测变量：面积，位置，楼龄。结果变量：房价。考察结果变量和预测变量之间是否有线性关系。</p>
<h2 id="机器学习-分类问题："><a href="#机器学习-分类问题：" class="headerlink" title="机器学习-分类问题："></a>机器学习-分类问题：</h2><p>训练模型+预测</p>
<h2 id="R与Rstudio的获取与安装："><a href="#R与Rstudio的获取与安装：" class="headerlink" title="R与Rstudio的获取与安装："></a>R与Rstudio的获取与安装：</h2><p>R:cran.r-project.org<br>Rstudio:rstudio.com<br>Powerful IDE for R —-&gt; Desktop</p>
<h2 id="包（package）"><a href="#包（package）" class="headerlink" title="包（package）"></a>包（package）</h2><p>一种扩展R基本功能的机制/集成了众多函数。  </p>
<h3 id="获取包"><a href="#获取包" class="headerlink" title="获取包"></a>获取包</h3><p>CRAN/Bioconductor/GitHub<br>CRAN中：install.packages(“name”)<br>GitHub中：install_github(name)</p>
<h3 id="导入包：library-name"><a href="#导入包：library-name" class="headerlink" title="导入包：library(name)"></a>导入包：library(name)</h3><p>R中自带的数据集：data()<br>输入：?数据集名称   就可以了数据详情了。</p>
<h2 id="获取帮助"><a href="#获取帮助" class="headerlink" title="获取帮助"></a>获取帮助</h2><ol>
<li>?函数名  （调取相关帮助文档）</li>
<li>使用Google/Stackoverflow</li>
<li>如何提问：说明操作系统，R版本，包版本，报错信息。</li>
<li>str(函数名)可以之间看到函数的参数表，其中FUN代表函数。</li>
</ol>
<h2 id="R语言特点"><a href="#R语言特点" class="headerlink" title="R语言特点"></a>R语言特点</h2><ol>
<li>开源免费</li>
<li>行业标准</li>
<li>小巧灵活</li>
<li>扩展包体系绘图工具</li>
<li>绘图功能</li>
<li>极简代码</li>
</ol>
<h1 id="R语言语法基础之数据篇"><a href="#R语言语法基础之数据篇" class="headerlink" title="R语言语法基础之数据篇"></a>R语言语法基础之数据篇</h1><h2 id="R语言中的数据"><a href="#R语言中的数据" class="headerlink" title="R语言中的数据"></a>R语言中的数据</h2><h3 id="R语言支持的数据类型："><a href="#R语言支持的数据类型：" class="headerlink" title="R语言支持的数据类型："></a>R语言支持的数据类型：</h3><ol>
<li>character 字符型</li>
<li>numeric 数值型</li>
<li>integer 整型不</li>
<li>complex 负数型</li>
<li>boolean 布尔型/逻辑型</li>
</ol>
<h3 id="基本数据结构"><a href="#基本数据结构" class="headerlink" title="基本数据结构"></a>基本数据结构</h3><ol>
<li>向量（数据必须一样）、因子 （分类变量）</li>
<li>数值变量：身高体重</li>
<li>分类变量：性别</li>
<li>矩阵（数据类型必须一样）、数据框（由向量组成，向量内部数据类型必须一样，向量之间不一定一样。）</li>
<li>数组（一般都三维或更高维的数据结构）、列表（类似于python的字典）</li>
<li>数据框</li>
<li>日期和时间</li>
</ol>
<h2 id="一维数据类型"><a href="#一维数据类型" class="headerlink" title="一维数据类型"></a>一维数据类型</h2><h3 id="向量-vocter"><a href="#向量-vocter" class="headerlink" title="向量 vocter"></a>向量 vocter</h3><h4 id="1、创建"><a href="#1、创建" class="headerlink" title="1、创建"></a>1、创建</h4><p>1)、c()无条件定义向量<br>例如：(x =c(10,16,18)) 在R语言中=和&lt;—等效，最外面的()表示直接输出x的内容<br>2)、冒号操作符：定义以1为步长的等差数列<br>例如：(x=1:10)  定义了一个1到10的向量。最外面的()表示直接输出x的内容<br>3)、seq(from, to, by, length, along.with) from起点 to终点 by步长 length向量长度 along.with元素个数<br>例如：(x=seq(5,by=2,length=8))定义一个从5开始以2为步长有8个元素的向量。<br>(y=seq(10, by=3, along.with=x))定义一个从10开始的以3为步长的长度等于x长度（也就是8）的向量。<strong>along.with后面必须跟上另外一个向量。</strong><br>4)、vector(“向量的数据类型”,length=长度)<br><figure class="highlight rsl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs rsl">&gt; (x=<span class="hljs-keyword">vector</span>(<span class="hljs-string">&quot;character&quot;</span>,<span class="hljs-built_in">length</span> = <span class="hljs-number">10</span>)) <span class="hljs-meta">#创建一个有10个空值的向量</span><br> [<span class="hljs-number">1</span>] <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-string">&quot;&quot;</span><br></code></pre></div></td></tr></table></figure></p>
<h4 id="2、提取子集"><a href="#2、提取子集" class="headerlink" title="2、提取子集"></a>2、提取子集</h4><ul>
<li>数字下标（正数、负数） 2取出2号元素 -2取出除2以外的说所有元素</li>
<li>which()函数 按条件来筛选，(y[which(y&gt;5)]) whchi返回的是下标，不是元素。提取向量y中大于5的元素。</li>
<li>(x[seq(1,5,1)])  #将下标为(1,2,3,4,5)的元素提取出来，seq(1,5,1)表示从1开始到5结束，步长为1的向量</li>
<li>(y[-5:-1]) 取出除了下标为5,4,3,2,1以外的元素。负号就是扣掉元素。</li>
<li>(x[c(1,2,3,4,5)] 将下标为1，2，3，4，5的元素取出来。</li>
</ul>
<p><strong>在R语言中，利用向量作为下标可以提取多个元素。</strong></p>
<p><strong>将鼠标放到一条要执行的语句上，再按contrl+enter就执行了。</strong></p>
<h3 id="因子-factor"><a href="#因子-factor" class="headerlink" title="因子 factor"></a>因子 factor</h3><blockquote>
<p>PS：每一个元素的数据类型必须一样，因子应用于分类变量（数据），可以吧因子理解成整数向量+标签（labels）。因子中的分类变量的类型叫做因子的水平，是一个文字串。每个分类都有文本标签，所以因子也有文本标签。level是数字或者其他字母代表级别，level对应着labels，labels是具体的文本。</p>
</blockquote>
<p><strong>分类数据分为有序分类数据和无序分类数据</strong></p>
<h4 id="1、创建-1"><a href="#1、创建-1" class="headerlink" title="1、创建"></a>1、创建</h4><p>1)、利用factor()函数来构造因子<br>例子：<br><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">&gt; (x=factor(c(<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;o&quot;</span>,<span class="hljs-string">&quot;ab&quot;</span>,<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;ab&quot;</span>)))  #将这个向量转化成因子格式<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-selector-tag">a</span>  <span class="hljs-selector-tag">b</span>  o  ab <span class="hljs-selector-tag">a</span>  ab<br>Levels: <span class="hljs-selector-tag">a</span> ab <span class="hljs-selector-tag">b</span> o<br>&gt; unclass(x)    #去除属性影响<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">1</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">2</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span><br><span class="hljs-function"><span class="hljs-title">attr</span><span class="hljs-params">(,<span class="hljs-string">&quot;levels&quot;</span>)</span></span><br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;a&quot;</span>  <span class="hljs-string">&quot;ab&quot;</span> <span class="hljs-string">&quot;b&quot;</span>  <span class="hljs-string">&quot;o&quot;</span> <br></code></pre></div></td></tr></table></figure><br><strong>从输出可以看出level在内存中实际上是以数字进行存储的。</strong>默认label与数字的对应关系是和标签的内容在字典中的位置所决定的。所以’a’ ‘b’ ‘ab’ ‘o’ 分别对应1 2 3 4</p>
<p><strong>使用levels可以自定义level对应关系：</strong><br><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"> #在levels=c()中，先后出现的是<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-string">&quot;ab&quot;</span>也就对应<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span><br>(x=factor(c(<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;b&quot;</span>,<span class="hljs-string">&quot;o&quot;</span>,<span class="hljs-string">&quot;ab&quot;</span>,<span class="hljs-string">&quot;a&quot;</span>,<span class="hljs-string">&quot;ab&quot;</span>),levels=c(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-string">&quot;ab&quot;</span>))) <br><span class="hljs-function"><span class="hljs-title">unclass</span><span class="hljs-params">(x)</span></span><br>#输出<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-selector-tag">a</span>  <span class="hljs-selector-tag">b</span>  o  ab <span class="hljs-selector-tag">a</span>  ab<br>Levels: <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> o ab<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">1</span> <span class="hljs-number">4</span><br><span class="hljs-function"><span class="hljs-title">attr</span><span class="hljs-params">(,<span class="hljs-string">&quot;levels&quot;</span>)</span></span><br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;a&quot;</span>  <span class="hljs-string">&quot;b&quot;</span>  <span class="hljs-string">&quot;o&quot;</span>  <span class="hljs-string">&quot;ab&quot;</span><br></code></pre></div></td></tr></table></figure><br><strong>从输出可以看出通过我们的自定义，a依旧是对应1，但是b o ab的对应关系由3 4 2变成2 3 4，符合levels=c()中b o ab出现的次序。</strong></p>
<p>2)、利用gl()函数来创建因子<br><figure class="highlight processing"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs processing">#声明<span class="hljs-number">4</span>个量，每个重复<span class="hljs-number">3</span>次。<br>&gt; (f2=gl(<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,labels = c(<span class="hljs-string">&#x27;blue&#x27;</span>,<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;yellow&#x27;</span>)))<br> [<span class="hljs-number">1</span>] <span class="hljs-built_in">blue</span>   <span class="hljs-built_in">blue</span>   <span class="hljs-built_in">blue</span>   <span class="hljs-built_in">red</span>    <span class="hljs-built_in">red</span>    <span class="hljs-built_in">red</span>    <span class="hljs-built_in">green</span>  <span class="hljs-built_in">green</span>  <span class="hljs-built_in">green</span>  yellow<br>[<span class="hljs-number">11</span>] yellow yellow<br>Levels: <span class="hljs-built_in">blue</span> <span class="hljs-built_in">red</span> <span class="hljs-built_in">green</span> yellow<br>#查看级别<br>&gt; unclass(f2)<br> [<span class="hljs-number">1</span>] <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">4</span> <span class="hljs-number">4</span><br>attr(,<span class="hljs-string">&quot;levels&quot;</span>)<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;blue&quot;</span>   <span class="hljs-string">&quot;red&quot;</span>    <span class="hljs-string">&quot;green&quot;</span>  <span class="hljs-string">&quot;yellow&quot;</span><br></code></pre></div></td></tr></table></figure></p>
<h4 id="2、提取子集-1"><a href="#2、提取子集-1" class="headerlink" title="2、提取子集"></a>2、提取子集</h4><p>1)、用向量组成下标来提取<br><figure class="highlight processing"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs processing">&gt; (f2=gl(<span class="hljs-number">4</span>,<span class="hljs-number">3</span>,labels = c(<span class="hljs-string">&#x27;blue&#x27;</span>,<span class="hljs-string">&#x27;red&#x27;</span>,<span class="hljs-string">&#x27;green&#x27;</span>,<span class="hljs-string">&#x27;yellow&#x27;</span>)))<br> [<span class="hljs-number">1</span>] <span class="hljs-built_in">blue</span>   <span class="hljs-built_in">blue</span>   <span class="hljs-built_in">blue</span>   <span class="hljs-built_in">red</span>    <span class="hljs-built_in">red</span>    <span class="hljs-built_in">red</span>    <span class="hljs-built_in">green</span>  <span class="hljs-built_in">green</span>  <span class="hljs-built_in">green</span>  yellow<br>[<span class="hljs-number">11</span>] yellow yellow<br>&gt; (f2[<span class="hljs-number">1</span>:<span class="hljs-number">5</span>])<br>[<span class="hljs-number">1</span>] <span class="hljs-built_in">blue</span> <span class="hljs-built_in">blue</span> <span class="hljs-built_in">blue</span> <span class="hljs-built_in">red</span>  <span class="hljs-built_in">red</span> <br>Levels: <span class="hljs-built_in">blue</span> <span class="hljs-built_in">red</span> <span class="hljs-built_in">green</span> yellow<br>&gt; (f2[seq(<span class="hljs-number">5</span>,by=<span class="hljs-number">1</span>,length=<span class="hljs-number">3</span>)])<br>[<span class="hljs-number">1</span>] <span class="hljs-built_in">red</span>   <span class="hljs-built_in">red</span>   <span class="hljs-built_in">green</span><br>Levels: <span class="hljs-built_in">blue</span> <span class="hljs-built_in">red</span> <span class="hljs-built_in">green</span> yellow<br>&gt; (f2[<span class="hljs-number">-1</span>:<span class="hljs-number">-5</span>])<br>[<span class="hljs-number">1</span>] <span class="hljs-built_in">red</span>    <span class="hljs-built_in">green</span>  <span class="hljs-built_in">green</span>  <span class="hljs-built_in">green</span>  yellow yellow yellow<br>Levels: <span class="hljs-built_in">blue</span> <span class="hljs-built_in">red</span> <span class="hljs-built_in">green</span> yellow<br></code></pre></div></td></tr></table></figure><br>2)、利用which来做条件选择提取<br><figure class="highlight processing"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs processing"><br>&gt; (f2[which(f2==<span class="hljs-string">&#x27;blue&#x27;</span>)])<br>[<span class="hljs-number">1</span>] <span class="hljs-built_in">blue</span> <span class="hljs-built_in">blue</span> <span class="hljs-built_in">blue</span><br>Levels: <span class="hljs-built_in">blue</span> <span class="hljs-built_in">red</span> <span class="hljs-built_in">green</span> yellow<br>&gt; (f2[which(f2==<span class="hljs-string">&#x27;red&#x27;</span>)])<br>[<span class="hljs-number">1</span>] <span class="hljs-built_in">red</span> <span class="hljs-built_in">red</span> <span class="hljs-built_in">red</span><br>Levels: <span class="hljs-built_in">blue</span> <span class="hljs-built_in">red</span> <span class="hljs-built_in">green</span> yellow<br><br></code></pre></div></td></tr></table></figure></p>
<h2 id="二维数据类型"><a href="#二维数据类型" class="headerlink" title="二维数据类型"></a>二维数据类型</h2><h3 id="矩阵-matrix"><a href="#矩阵-matrix" class="headerlink" title="矩阵 matrix"></a>矩阵 matrix</h3><blockquote>
<p>一个有行有列的二维结构，矩阵中每个元素的数据类型必须完全一样，要么都是字符串，要么都是整型，要么都是整形。</p>
</blockquote>
<h4 id="1、生成矩阵"><a href="#1、生成矩阵" class="headerlink" title="1、生成矩阵"></a>1、生成矩阵</h4><h5 id="1-、matrix-方法"><a href="#1-、matrix-方法" class="headerlink" title="1)、matrix()方法"></a>1)、matrix()方法</h5><p>举例：<br><figure class="highlight inform7"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs inform7">#1:6是一个1到6 的向量,将1到6这6个元素填充到之后申明的那个2*3的矩阵中，需要注意的是这里元素是默认一列一列进行填充的。<br>&gt; (x=matrix(1:6,nrow=2,ncol=3))<br>     <span class="hljs-comment">[,1]</span> <span class="hljs-comment">[,2]</span> <span class="hljs-comment">[,3]</span><br><span class="hljs-comment">[1,]</span>    1    3    5<br><span class="hljs-comment">[2,]</span>    2    4    6<br>#设置byrow=T修改填充方式为按行来填充<br>&gt; (x=matrix(1:6,nrow=2,ncol=3,byrow=T))<br>     <span class="hljs-comment">[,1]</span> <span class="hljs-comment">[,2]</span> <span class="hljs-comment">[,3]</span><br><span class="hljs-comment">[1,]</span>    1    2    3<br><span class="hljs-comment">[2,]</span>    4    5    6<br></code></pre></div></td></tr></table></figure></p>
<h5 id="2-、修改dim属性来完成由向量派生矩阵"><a href="#2-、修改dim属性来完成由向量派生矩阵" class="headerlink" title="2)、修改dim属性来完成由向量派生矩阵"></a>2)、修改dim属性来完成由向量派生矩阵</h5><p>举例：<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt; (x=1:18) <span class="hljs-comment">#先生成一个向量</span><br> [1] <span class="hljs-number"> 1 </span><span class="hljs-number"> 2 </span><span class="hljs-number"> 3 </span><span class="hljs-number"> 4 </span><span class="hljs-number"> 5 </span><span class="hljs-number"> 6 </span><span class="hljs-number"> 7 </span><span class="hljs-number"> 8 </span><span class="hljs-number"> 9 </span>10<span class="hljs-number"> 11 </span>12<span class="hljs-number"> 13 </span>14<span class="hljs-number"> 15 </span>16<span class="hljs-number"> 17 </span>18<br>&gt; dim(x)=c(3,6);x  <span class="hljs-comment">#再更改向量的dim属性，dim是数据的维度属性。将向量改成3*6的矩阵</span><br>     [,1] [,2] [,3] [,4] [,5] [,6]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 7 </span> <span class="hljs-number"> 10 </span> <span class="hljs-number"> 13 </span>  16<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 8 </span> <span class="hljs-number"> 11 </span> <span class="hljs-number"> 14 </span>  17<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 6 </span>  <span class="hljs-number"> 9 </span> <span class="hljs-number"> 12 </span> <span class="hljs-number"> 15 </span>  18<br></code></pre></div></td></tr></table></figure></p>
<h5 id="3-、由向量组合生成"><a href="#3-、由向量组合生成" class="headerlink" title="3)、由向量组合生成"></a>3)、由向量组合生成</h5><p>举例：<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">(x=1:10)<br>(y=11:20)<br>(z=21:30)<br>&gt; (m1=rbind(x,y,z)) <span class="hljs-comment">#按行来生成矩阵 将x,y,z分别作为三行</span><br>  [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]<br>x   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 6 </span>  <span class="hljs-number"> 7 </span>  <span class="hljs-number"> 8 </span>  <span class="hljs-number"> 9 </span>   10<br>y  <span class="hljs-number"> 11 </span> <span class="hljs-number"> 12 </span> <span class="hljs-number"> 13 </span> <span class="hljs-number"> 14 </span> <span class="hljs-number"> 15 </span> <span class="hljs-number"> 16 </span> <span class="hljs-number"> 17 </span> <span class="hljs-number"> 18 </span> <span class="hljs-number"> 19 </span>   20<br>z  <span class="hljs-number"> 21 </span> <span class="hljs-number"> 22 </span> <span class="hljs-number"> 23 </span> <span class="hljs-number"> 24 </span> <span class="hljs-number"> 25 </span> <span class="hljs-number"> 26 </span> <span class="hljs-number"> 27 </span> <span class="hljs-number"> 28 </span> <span class="hljs-number"> 29 </span>   30<br><br>&gt; (m2=cbind(x,y,z))<span class="hljs-comment">#按列来生成矩阵 将x,y,z分别作为三列</span><br>       x  y  z<br> [1,] <span class="hljs-number"> 1 </span>11 21<br> [2,] <span class="hljs-number"> 2 </span>12 22<br> [3,] <span class="hljs-number"> 3 </span>13 23<br> [4,] <span class="hljs-number"> 4 </span>14 24<br> [5,] <span class="hljs-number"> 5 </span>15 25<br> [6,] <span class="hljs-number"> 6 </span>16 26<br> [7,] <span class="hljs-number"> 7 </span>17 27<br> [8,] <span class="hljs-number"> 8 </span>18 28<br> [9,] <span class="hljs-number"> 9 </span>19 29<br>[10,]<span class="hljs-number"> 10 </span>20 30<br></code></pre></div></td></tr></table></figure>
　</p>
<h4 id="2、操作"><a href="#2、操作" class="headerlink" title="2、操作"></a>2、操作</h4><h5 id="1-、通过下标访问元素"><a href="#1-、通过下标访问元素" class="headerlink" title="1)、通过下标访问元素"></a>1)、通过下标访问元素</h5><p>举例：<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt; x<br>     [,1] [,2] [,3]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 2 </span>   3<br>[2,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 5 </span>   6<br>&gt; (x[2,3]) <span class="hljs-comment">#访问2,3位置的元素，这里输出的是一个向量。</span><br>[1] 6<br>&gt; x[2,3,drop=FALSE]  <span class="hljs-comment">#访问2,3位置的元素，设置drop=FALSE,输出的就是一个矩阵。</span><br>     [,1]<br>[1,]    6<br>&gt; (x[,2]) <span class="hljs-comment">#访问第2列</span><br>[1]<span class="hljs-number"> 2 </span>5<br>&gt; (x[2,]) <span class="hljs-comment">#访问第2行</span><br>[1]<span class="hljs-number"> 4 </span>5 6<br><br><span class="hljs-comment">#矩阵的访问，在行和列这两维度上都是支持向量的。</span><br>&gt; (x[,c(2,3)])  <span class="hljs-comment">#访问第2，3列元素的信息</span><br>     [,1] [,2]<br>[1,]   <span class="hljs-number"> 2 </span>   3<br>[2,]   <span class="hljs-number"> 5 </span>   6<br><br>&gt; (x &lt;- matrix(1:12,nrow = 4,byrow=T))<br>     [,1] [,2] [,3]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 2 </span>   3<br>[2,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 5 </span>   6<br>[3,]   <span class="hljs-number"> 7 </span>  <span class="hljs-number"> 8 </span>   9<br>[4,]  <span class="hljs-number"> 10 </span> <span class="hljs-number"> 11 </span>  12<br>&gt; (x[c(2,3),] )<span class="hljs-comment">#访问第2，3行元素的信息</span><br>     [,1] [,2] [,3]<br>[1,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 5 </span>   6<br>[2,]   <span class="hljs-number"> 7 </span>  <span class="hljs-number"> 8 </span>   9<br><br>&gt; (x[c(1,2),c(3,4)]) <span class="hljs-comment">#提取第1,2行的第3,4列元素组成一个子矩阵。</span><br>     [,1] [,2]<br>[1,]   <span class="hljs-number"> 3 </span>   4<br>[2,]   <span class="hljs-number"> 7 </span>   8<br><br>&gt; x<br>  v1 v2 v3<br>1 <span class="hljs-number"> 1 </span><span class="hljs-number"> 6 </span>11<br>2 <span class="hljs-number"> 2 </span><span class="hljs-number"> 7 </span>NA<br>3 <span class="hljs-number"> 3 </span><span class="hljs-number"> 8 </span>13<br>4 <span class="hljs-number"> 4 </span><span class="hljs-number"> 9 </span>NA<br>5 <span class="hljs-number"> 5 </span>10 15<br><br><span class="hljs-comment">#x$v1&gt;2、which(x$v1&gt;2)、x[which(x$v1&gt;2),]注层层递进的变化</span><br><br>&gt; x$v1&gt;2 <span class="hljs-comment">#x$v1&gt;2直接查看v1里面有哪些是大于2的，直接返回对应的TRUE或者FALSE。</span><br>[1] FALSE FALSE  TRUE  TRUE  TRUE<br><br>&gt; which(x$v1&gt;2) <span class="hljs-comment">#which(x$v1&gt;2)返回的是v1中大于2的数据的下标</span><br>[1]<span class="hljs-number"> 3 </span>4 5<br><br>&gt; x[which(x$v1&gt;2),] <span class="hljs-comment">#x[which(x$v1&gt;2),]以矩阵形式将结果返回</span><br>  v1 v2 v3<br>3 <span class="hljs-number"> 3 </span><span class="hljs-number"> 8 </span>13<br>4 <span class="hljs-number"> 4 </span><span class="hljs-number"> 9 </span>NA<br>5 <span class="hljs-number"> 5 </span>10 15<br><br>&gt; subset(x,v2&gt;2) <span class="hljs-comment">#使用subset函数</span><br>  v1 v2 v3<br>1 <span class="hljs-number"> 1 </span><span class="hljs-number"> 6 </span>11<br>2 <span class="hljs-number"> 2 </span><span class="hljs-number"> 7 </span>NA<br>3 <span class="hljs-number"> 3 </span><span class="hljs-number"> 8 </span>13<br>4 <span class="hljs-number"> 4 </span><span class="hljs-number"> 9 </span>NA<br>5 <span class="hljs-number"> 5 </span>10 15<br><br></code></pre></div></td></tr></table></figure></p>
<h5 id="2-、通过利用给行、列的命名的名字来访问"><a href="#2-、通过利用给行、列的命名的名字来访问" class="headerlink" title="2)、通过利用给行、列的命名的名字来访问"></a>2)、通过利用给行、列的命名的名字来访问</h5><ul>
<li><strong>rownames 行命名</strong></li>
<li><strong>colnames 列命名</strong></li>
<li><strong>dimnames 整体命名</strong></li>
</ul>
<p>举例：<br><figure class="highlight plain"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs plain"><br>&gt; (x&#x3D;matrix(1:24,ncol&#x3D;6))<br>     [,1] [,2] [,3] [,4] [,5] [,6]<br>[1,]    1    5    9   13   17   21<br>[2,]    2    6   10   14   18   22<br>[3,]    3    7   11   15   19   23<br>[4,]    4    8   12   16   20   24<br>&gt; rownames(x) &#x3D; c(&#39;R1&#39;,&#39;R2&#39;,&#39;R3&#39;,&#39;R4&#39;)<br>&gt; colnames(x) &#x3D; c(&#39;C1&#39;,&#39;C2&#39;,&#39;C3&#39;,&#39;C4&#39;,&#39;C5&#39;,&#39;C6&#39;)<br>&gt; dimnames(x)&#x3D;list(c(&#39;R1&#39;,&#39;R2&#39;,&#39;R3&#39;,&#39;R4&#39;),c(&#39;C1&#39;,&#39;C2&#39;,&#39;C3&#39;,&#39;C4&#39;,&#39;C5&#39;,&#39;C6&#39;))<br>&gt; x<br>   C1 C2 C3 C4 C5 C6<br>R1  1  5  9 13 17 21<br>R2  2  6 10 14 18 22<br>R3  3  7 11 15 19 23<br>R4  4  8 12 16 20 24<br><br>&gt; x[&#39;R4&#39;,&#39;C6&#39;] #访问第4行的第6列<br>[1] 24 <br>&gt; x[c(&#39;R2&#39;,&#39;R3&#39;),c(&#39;C2&#39;,&#39;C3&#39;)] #访问第2,3行的第2,3列<br>   C2 C3<br>R2  6 10<br>R3  7 11<br></code></pre></div></td></tr></table></figure></p>
<h5 id="3-、查看矩阵的行数和列数"><a href="#3-、查看矩阵的行数和列数" class="headerlink" title="3)、查看矩阵的行数和列数"></a>3)、查看矩阵的行数和列数</h5><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt; (x=matrix(1:20,nrow=5))<br>     [,1] [,2] [,3] [,4]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 6 </span> <span class="hljs-number"> 11 </span>  16<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 7 </span> <span class="hljs-number"> 12 </span>  17<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 8 </span> <span class="hljs-number"> 13 </span>  18<br>[4,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 9 </span> <span class="hljs-number"> 14 </span>  19<br>[5,]   <span class="hljs-number"> 5 </span> <span class="hljs-number"> 10 </span> <span class="hljs-number"> 15 </span>  20<br>&gt; dim(x)<br>[1]<span class="hljs-number"> 5 </span>4<br></code></pre></div></td></tr></table></figure>
<h4 id="3、矩阵运算"><a href="#3、矩阵运算" class="headerlink" title="3、矩阵运算"></a>3、矩阵运算</h4><p>向量运算和矩阵运算统一</p>
<h5 id="1-、加减运算"><a href="#1-、加减运算" class="headerlink" title="1)、加减运算"></a>1)、加减运算</h5><p>1）、矩阵加数字，对应矩阵中每个元素加上相应的数字。<br>2）、相同规模的矩阵相加。<br>举例<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap"><br>&gt; (m1=matrix(1:12,nrow = 3))<br>     [,1] [,2] [,3] [,4]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 7 </span>  10<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 8 </span>  11<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 6 </span>  <span class="hljs-number"> 9 </span>  12<br>&gt; (m2=matrix(13:24,nrow = 3))<br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 13 </span> <span class="hljs-number"> 16 </span> <span class="hljs-number"> 19 </span>  22<br>[2,]  <span class="hljs-number"> 14 </span> <span class="hljs-number"> 17 </span> <span class="hljs-number"> 20 </span>  23<br>[3,]  <span class="hljs-number"> 15 </span> <span class="hljs-number"> 18 </span> <span class="hljs-number"> 21 </span>  24<br>&gt; m1+10<br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 11 </span> <span class="hljs-number"> 14 </span> <span class="hljs-number"> 17 </span>  20<br>[2,]  <span class="hljs-number"> 12 </span> <span class="hljs-number"> 15 </span> <span class="hljs-number"> 18 </span>  21<br>[3,]  <span class="hljs-number"> 13 </span> <span class="hljs-number"> 16 </span> <span class="hljs-number"> 19 </span>  22<br><br>&gt; m1+m2<br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 14 </span> <span class="hljs-number"> 20 </span> <span class="hljs-number"> 26 </span>  32<br>[2,]  <span class="hljs-number"> 16 </span> <span class="hljs-number"> 22 </span> <span class="hljs-number"> 28 </span>  34<br>[3,]  <span class="hljs-number"> 18 </span> <span class="hljs-number"> 24 </span> <span class="hljs-number"> 30 </span>  36<br><br>&gt; m2-m1<br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 12 </span> <span class="hljs-number"> 12 </span> <span class="hljs-number"> 12 </span>  12<br>[2,]  <span class="hljs-number"> 12 </span> <span class="hljs-number"> 12 </span> <span class="hljs-number"> 12 </span>  12<br>[3,]  <span class="hljs-number"> 12 </span> <span class="hljs-number"> 12 </span> <span class="hljs-number"> 12 </span>  12<br><br></code></pre></div></td></tr></table></figure></p>
<h5 id="2-、乘法运算："><a href="#2-、乘法运算：" class="headerlink" title="2)、乘法运算："></a>2)、乘法运算：</h5><p>(m1=matrix(1:12,n row=3,ncol=4))<br>(m2=matrix(13:24,n row=3,ncol=4))<br>（1）、数乘，矩阵乘以数字，也就是每个元素乘以相应的数字。<br>举例：m1*10<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt; m1*10<br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 10 </span> <span class="hljs-number"> 40 </span> <span class="hljs-number"> 70 </span> 100<br>[2,]  <span class="hljs-number"> 20 </span> <span class="hljs-number"> 50 </span> <span class="hljs-number"> 80 </span> 110<br>[3,]  <span class="hljs-number"> 30 </span> <span class="hljs-number"> 60 </span> <span class="hljs-number"> 90 </span> 120<br></code></pre></div></td></tr></table></figure><br>（2）、对应元素相乘（<strong>两个规模相同的矩阵的乘法运算</strong>），两个矩阵中对应元素相乘组成新的矩阵。这种乘法是R语言创造的，不是数学中的矩阵乘法。<br>举例：m1*m2<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt; m1*m2<br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 13 </span> <span class="hljs-number"> 64 </span><span class="hljs-number"> 133 </span> 220<br>[2,]  <span class="hljs-number"> 28 </span> <span class="hljs-number"> 85 </span><span class="hljs-number"> 160 </span> 253<br>[3,]  <span class="hljs-number"> 45 </span><span class="hljs-number"> 108 </span><span class="hljs-number"> 189 </span> 288<br></code></pre></div></td></tr></table></figure><br>（3）、<strong>矩阵乘法，记住“左行右列”，</strong>乘号左边的矩阵出第A行与乘号右边的矩阵出的第B列对应元素相乘的和，组成新的列表的第[A,B]号元素。矩阵乘法的条件是，<strong>左边的矩阵的列数等于右边矩阵的行数。</strong>例如：<strong>矩阵T乘以矩阵R，T是a*b的规模，R是c*d的规模，则T*R的条件是b=c。最后得到的新矩阵是a*d的新矩阵。</strong>这种乘法才是线性代数中的矩阵相乘。<br>举例：m1 %*% t(m2)<br><figure class="highlight gcode"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs gcode"><span class="hljs-attr">#数学上的矩阵相乘，要求左边的矩阵的列数等于右边矩阵的行数,而m1</span>和<span class="hljs-name">m2</span>都是<span class="hljs-number">3</span>*<span class="hljs-number">4</span>的矩阵，需要将<span class="hljs-name">m2</span>转置成<span class="hljs-number">4</span>*<span class="hljs-number">3</span>才可以完成数学相乘，最终得到的是一个<span class="hljs-number">3</span>*<span class="hljs-number">3</span>的矩阵。<br>&gt; <span class="hljs-name">m1</span> <span class="hljs-meta">%</span>*<span class="hljs-meta">%</span> t<span class="hljs-comment">(m2)</span><br>     [,<span class="hljs-number">1</span>] [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>]<br>[<span class="hljs-number">1</span>,]  <span class="hljs-number">430</span>  <span class="hljs-number">452</span>  <span class="hljs-number">474</span><br>[<span class="hljs-number">2</span>,]  <span class="hljs-number">500</span>  <span class="hljs-number">526</span>  <span class="hljs-number">552</span><br>[<span class="hljs-number">3</span>,]  <span class="hljs-number">570</span>  <span class="hljs-number">600</span>  <span class="hljs-number">630</span><br></code></pre></div></td></tr></table></figure><br><strong>单位矩阵：所有元素都是1，必须是方阵。必须是方阵。</strong></p>
<h5 id="3-、使用diag生成对角阵"><a href="#3-、使用diag生成对角阵" class="headerlink" title="3)、使用diag生成对角阵"></a>3)、使用diag生成对角阵</h5><p><strong>对角矩阵：对角线上的元素都是1，其他位置的元素必须是0。必须是方阵。</strong><br>举例：<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap"><span class="hljs-comment">#1</span><br>&gt; diag(4)<span class="hljs-comment">#生成4*4的对角矩阵</span><br>     [,1] [,2] [,3] [,4]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>   0<br>[2,]   <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 0 </span>   0<br>[3,]   <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 1 </span>   0<br>[4,]   <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>   1<br><span class="hljs-comment">#2</span><br>diag(c(1,2,3,4,5)) <span class="hljs-comment">#生成对角线上是1,2,3,4的4*4对角矩阵</span><br>     [,1] [,2] [,3] [,4] [,5]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>   0<br>[2,]   <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>   0<br>[3,]   <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 0 </span>   0<br>[4,]   <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 4 </span>   0<br>[5,]   <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>  <span class="hljs-number"> 0 </span>   5<br><span class="hljs-comment">#3</span><br>&gt; (a=matrix(1:16,4,4))<br>     [,1] [,2] [,3] [,4]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 9 </span>  13<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 6 </span> <span class="hljs-number"> 10 </span>  14<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 7 </span> <span class="hljs-number"> 11 </span>  15<br>[4,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 8 </span> <span class="hljs-number"> 12 </span>  16<br>&gt; diag(a) <span class="hljs-comment">#提取a矩阵上的对角元素</span><br>[1] <span class="hljs-number"> 1 </span><span class="hljs-number"> 6 </span>11 16<br><br></code></pre></div></td></tr></table></figure></p>
<h5 id="4-、矩阵转置"><a href="#4-、矩阵转置" class="headerlink" title="4)、矩阵转置"></a>4)、矩阵转置</h5><blockquote>
<p>把行才换成列，把列换成行。（2,3）元素在转置之后变成了（3,2元素），用t()方法就可以了</p>
</blockquote>
<p>举例<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt; (x=matrix(1:15,nrow=3))<br>     [,1] [,2] [,3] [,4] [,5]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 7 </span> <span class="hljs-number"> 10 </span>  13<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 8 </span> <span class="hljs-number"> 11 </span>  14<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 6 </span>  <span class="hljs-number"> 9 </span> <span class="hljs-number"> 12 </span>  15<br>&gt; (t(x))<br>     [,1] [,2] [,3]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 2 </span>   3<br>[2,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 5 </span>   6<br>[3,]   <span class="hljs-number"> 7 </span>  <span class="hljs-number"> 8 </span>   9<br>[4,]  <span class="hljs-number"> 10 </span> <span class="hljs-number"> 11 </span>  12<br>[5,]  <span class="hljs-number"> 13 </span> <span class="hljs-number"> 14 </span>  15<br></code></pre></div></td></tr></table></figure></p>
<h5 id="5-、矩阵的特征值和特征向量"><a href="#5-、矩阵的特征值和特征向量" class="headerlink" title="5)、矩阵的特征值和特征向量"></a>5)、矩阵的特征值和特征向量</h5><h5 id="6-、矩阵的逆"><a href="#6-、矩阵的逆" class="headerlink" title="6)、矩阵的逆"></a>6)、矩阵的逆</h5><p>举例：<br><figure class="highlight dns"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dns">&gt; (x=matrix(rnorm(<span class="hljs-number">16</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),<span class="hljs-number">4</span>,<span class="hljs-number">4</span>)) #生成一个由<span class="hljs-number">16</span>的随机数组成的<span class="hljs-number">4</span>*<span class="hljs-number">4</span>矩阵 rnorm(随机数个数,基准数字,偏移范围)<br>         [,<span class="hljs-number">1</span>]      [,<span class="hljs-number">2</span>]      [,<span class="hljs-number">3</span>]      [,<span class="hljs-number">4</span>]<br>[<span class="hljs-number">1</span>,] <span class="hljs-number">8.829662</span>  <span class="hljs-number">8.570598</span>  <span class="hljs-number">9.841040</span>  <span class="hljs-number">9.944716</span><br>[<span class="hljs-number">2</span>,] <span class="hljs-number">8.097175 11</span>.<span class="hljs-number">455700</span>  <span class="hljs-number">8.370946</span>  <span class="hljs-number">8.990764</span><br>[<span class="hljs-number">3</span>,] <span class="hljs-number">8.847266</span> <span class="hljs-number">10.421503</span>  <span class="hljs-number">9.706328</span>  <span class="hljs-number">7.751728</span><br>[<span class="hljs-number">4</span>,] <span class="hljs-number">7.471214 13</span>.<span class="hljs-number">794859 10</span>.<span class="hljs-number">761544 10</span>.<span class="hljs-number">298522</span><br><br>&gt; (y=solve(x)) #使用solve方法求逆<br>            [,<span class="hljs-number">1</span>]       [,<span class="hljs-number">2</span>]        [,<span class="hljs-number">3</span>]        [,<span class="hljs-number">4</span>]<br>[<span class="hljs-number">1</span>,] -<span class="hljs-number">0.03594978</span>  <span class="hljs-number">0.3024169</span>  <span class="hljs-number">0.18049339</span> -<span class="hljs-number">0.36515764</span><br>[<span class="hljs-number">2</span>,] -<span class="hljs-number">0.23173767</span>  <span class="hljs-number">0.1736797</span>  <span class="hljs-number">0.03126641</span>  <span class="hljs-number">0.04861701</span><br>[<span class="hljs-number">3</span>,]  <span class="hljs-number">0.07765014</span> -<span class="hljs-number">0.6111155</span>  <span class="hljs-number">0.25961327</span>  <span class="hljs-number">0.26311887</span><br>[<span class="hljs-number">4</span>,]  <span class="hljs-number">0.25535134</span>  <span class="hljs-number">0.1865548</span> -<span class="hljs-number">0.44410841</span>  <span class="hljs-number">0.02193914</span><br><br>&gt; x %*% y  #互逆的两个矩阵，相乘是一个对角矩阵,由输出可见，对角线上的元素基本上都是<span class="hljs-number">1</span>，其他位置的元素基本接近<span class="hljs-number">0</span>。<br>             [,<span class="hljs-number">1</span>]         [,<span class="hljs-number">2</span>]          [,<span class="hljs-number">3</span>]          [,<span class="hljs-number">4</span>]<br>[<span class="hljs-number">1</span>,] <span class="hljs-number">1</span>.<span class="hljs-number">000000</span>e+<span class="hljs-number">00</span> <span class="hljs-number">6</span>.<span class="hljs-number">661338</span>e-<span class="hljs-number">16</span> -<span class="hljs-number">8</span>.<span class="hljs-number">881784</span>e-<span class="hljs-number">16</span> -<span class="hljs-number">3</span>.<span class="hljs-number">053113</span>e-<span class="hljs-number">16</span><br>[<span class="hljs-number">2</span>,] <span class="hljs-number">0</span>.<span class="hljs-number">000000</span>e+<span class="hljs-number">00</span> <span class="hljs-number">1</span>.<span class="hljs-number">000000</span>e+<span class="hljs-number">00</span>  <span class="hljs-number">4</span>.<span class="hljs-number">440892</span>e-<span class="hljs-number">16</span>  <span class="hljs-number">3</span>.<span class="hljs-number">053113</span>e-<span class="hljs-number">16</span><br>[<span class="hljs-number">3</span>,] <span class="hljs-number">2</span>.<span class="hljs-number">220446</span>e-<span class="hljs-number">16</span> <span class="hljs-number">6</span>.<span class="hljs-number">661338</span>e-<span class="hljs-number">16</span>  <span class="hljs-number">1</span>.<span class="hljs-number">000000</span>e+<span class="hljs-number">00</span> -<span class="hljs-number">4</span>.<span class="hljs-number">440892</span>e-<span class="hljs-number">16</span><br>[<span class="hljs-number">4</span>,] <span class="hljs-number">4</span>.<span class="hljs-number">440892</span>e-<span class="hljs-number">16</span> <span class="hljs-number">6</span>.<span class="hljs-number">661338</span>e-<span class="hljs-number">16</span>  <span class="hljs-number">8</span>.<span class="hljs-number">881784</span>e-<span class="hljs-number">16</span>  <span class="hljs-number">1</span>.<span class="hljs-number">000000</span>e+<span class="hljs-number">00</span><br></code></pre></div></td></tr></table></figure><br> (y=solve(x)) #使用solve方法求逆</p>
<h5 id="7-、求解线性方程组"><a href="#7-、求解线性方程组" class="headerlink" title="7)、求解线性方程组"></a>7)、求解线性方程组</h5><p>举例：<br><figure class="highlight dns"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dns">&gt; (x=matrix(rnorm(<span class="hljs-number">16</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),<span class="hljs-number">4</span>,<span class="hljs-number">4</span>))<br>          [,<span class="hljs-number">1</span>]      [,<span class="hljs-number">2</span>]      [,<span class="hljs-number">3</span>]      [,<span class="hljs-number">4</span>]<br>[<span class="hljs-number">1</span>,]  <span class="hljs-number">9.375275</span>  <span class="hljs-number">8.449186</span>  <span class="hljs-number">9.742935</span> <span class="hljs-number">11.062033</span><br>[<span class="hljs-number">2</span>,]  <span class="hljs-number">9.132176 12</span>.<span class="hljs-number">227294</span>  <span class="hljs-number">9.683535</span>  <span class="hljs-number">6.924871</span><br>[<span class="hljs-number">3</span>,]  <span class="hljs-number">9.988475</span> <span class="hljs-number">10.483249 11</span>.<span class="hljs-number">765395 10</span>.<span class="hljs-number">387113</span><br>[<span class="hljs-number">4</span>,] <span class="hljs-number">11.948738</span> <span class="hljs-number">11.510251 10</span>.<span class="hljs-number">458448 12</span>.<span class="hljs-number">582581</span><br><br>&gt; (b = <span class="hljs-number">1</span>:<span class="hljs-number">4</span>)<br>[<span class="hljs-number">1</span>] <span class="hljs-number">1 2 3 4</span><br>&gt; solve(x,b)<br>[<span class="hljs-number">1</span>] <span class="hljs-number">11.784273</span> -<span class="hljs-number">6.028383</span>  <span class="hljs-number">1.323694</span> -<span class="hljs-number">6.458354</span><br><br></code></pre></div></td></tr></table></figure><br><strong>实际上是求解</strong><br><strong>a11*x1+a12*x2+a13*x3+a14*x4 = 1</strong><br><strong>a21*x1+a22*x2+a23*x3+a24*x4 = 2</strong><br><strong>a31*x1+a32*x2+a33*x3+a34*x4 = 3</strong><br><strong>a41*x1+a42*x2+a43*x3+a44*x4 = 4</strong><br><strong>这个线性方程组的x1、x2、x3、x4的解。</strong>  </p>
<h5 id="8-、矩阵拼接"><a href="#8-、矩阵拼接" class="headerlink" title="8)、矩阵拼接"></a>8)、矩阵拼接</h5><ul>
<li>使用cbind()或者rbind()来拼接矩阵</li>
</ul>
<p><strong>举例</strong><br><figure class="highlight less"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs less">&gt; (y1=matrix(<span class="hljs-number">1</span>:<span class="hljs-number">6</span>,nrow=<span class="hljs-number">2</span>))<br>     <span class="hljs-selector-attr">[,1]</span> <span class="hljs-selector-attr">[,2]</span> <span class="hljs-selector-attr">[,3]</span><br><span class="hljs-selector-attr">[1,]</span>    <span class="hljs-selector-tag">1</span>    <span class="hljs-selector-tag">3</span>    <span class="hljs-selector-tag">5</span><br><span class="hljs-selector-attr">[2,]</span>    <span class="hljs-selector-tag">2</span>    <span class="hljs-selector-tag">4</span>    <span class="hljs-selector-tag">6</span><br>&gt; (y2=matrix(<span class="hljs-number">1</span>:<span class="hljs-number">6</span>,nrow=<span class="hljs-number">2</span>))<br>     <span class="hljs-selector-attr">[,1]</span> <span class="hljs-selector-attr">[,2]</span> <span class="hljs-selector-attr">[,3]</span><br><span class="hljs-selector-attr">[1,]</span>    <span class="hljs-selector-tag">1</span>    <span class="hljs-selector-tag">3</span>    <span class="hljs-selector-tag">5</span><br><span class="hljs-selector-attr">[2,]</span>    <span class="hljs-selector-tag">2</span>    <span class="hljs-selector-tag">4</span>    <span class="hljs-selector-tag">6</span><br>&gt; (y3=cbind(y1,y2))   #按列拼接<br>     <span class="hljs-selector-attr">[,1]</span> <span class="hljs-selector-attr">[,2]</span> <span class="hljs-selector-attr">[,3]</span> <span class="hljs-selector-attr">[,4]</span> <span class="hljs-selector-attr">[,5]</span> <span class="hljs-selector-attr">[,6]</span><br><span class="hljs-selector-attr">[1,]</span>    <span class="hljs-selector-tag">1</span>    <span class="hljs-selector-tag">3</span>    <span class="hljs-selector-tag">5</span>    <span class="hljs-selector-tag">1</span>    <span class="hljs-selector-tag">3</span>    <span class="hljs-selector-tag">5</span><br><span class="hljs-selector-attr">[2,]</span>    <span class="hljs-selector-tag">2</span>    <span class="hljs-selector-tag">4</span>    <span class="hljs-selector-tag">6</span>    <span class="hljs-selector-tag">2</span>    <span class="hljs-selector-tag">4</span>    <span class="hljs-selector-tag">6</span><br>&gt; (y3=rbind(y1,y2))  #按行拼接<br>     <span class="hljs-selector-attr">[,1]</span> <span class="hljs-selector-attr">[,2]</span> <span class="hljs-selector-attr">[,3]</span><br><span class="hljs-selector-attr">[1,]</span>    <span class="hljs-selector-tag">1</span>    <span class="hljs-selector-tag">3</span>    <span class="hljs-selector-tag">5</span><br><span class="hljs-selector-attr">[2,]</span>    <span class="hljs-selector-tag">2</span>    <span class="hljs-selector-tag">4</span>    <span class="hljs-selector-tag">6</span><br><span class="hljs-selector-attr">[3,]</span>    <span class="hljs-selector-tag">1</span>    <span class="hljs-selector-tag">3</span>    <span class="hljs-selector-tag">5</span><br><span class="hljs-selector-attr">[4,]</span>    <span class="hljs-selector-tag">2</span>    <span class="hljs-selector-tag">4</span>    <span class="hljs-selector-tag">6</span><br><br></code></pre></div></td></tr></table></figure></p>
<h3 id="数据框-data-frame"><a href="#数据框-data-frame" class="headerlink" title="数据框 data frame"></a>数据框 data frame</h3><blockquote>
<p>数据框由记录和域组成，域就是列，记录就是行。数据框要求每一条域中的元素的数据类型必须一样。</p>
</blockquote>
<h4 id="1、利用data-frame-创建数据框"><a href="#1、利用data-frame-创建数据框" class="headerlink" title="1、利用data.frame()创建数据框"></a>1、利用data.frame()创建数据框</h4><p><strong>数据框的本质就是一个二维的数据表</strong></p>
<p>举例：<br><figure class="highlight dns"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dns">&gt;(a=data.frame(fx=rnorm(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),<br>              fy=runif(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">20</span>),<br>              fmonth=<span class="hljs-number">1</span>:<span class="hljs-number">10</span>)) #一个有<span class="hljs-number">10</span>条记录<span class="hljs-number">3</span>个域的数据框<br>              <br>          fx       fy fmonth<br><span class="hljs-number">1</span>   <span class="hljs-number">9.636283</span> <span class="hljs-number">11.33449</span>      <span class="hljs-number">1</span><br><span class="hljs-number">2</span>   <span class="hljs-number">9.143942 15</span>.<span class="hljs-number">93721</span>      <span class="hljs-number">2</span><br><span class="hljs-number">3</span>   <span class="hljs-number">9.445728</span> <span class="hljs-number">10.29192</span>      <span class="hljs-number">3</span><br><span class="hljs-number">4</span>   <span class="hljs-number">8.082495</span> <span class="hljs-number">11.27979</span>      <span class="hljs-number">4</span><br><span class="hljs-number">5</span>   <span class="hljs-number">7.975052</span> <span class="hljs-number">16.61200</span>      <span class="hljs-number">5</span><br><span class="hljs-number">6</span>   <span class="hljs-number">6.326113 15</span>.<span class="hljs-number">15761</span>      <span class="hljs-number">6</span><br><span class="hljs-number">7</span>  <span class="hljs-number">10.333080</span> <span class="hljs-number">18.70560</span>      <span class="hljs-number">7</span><br><span class="hljs-number">8</span>  <span class="hljs-number">12.059794</span> <span class="hljs-number">18.09572</span>      <span class="hljs-number">8</span><br><span class="hljs-number">9</span>   <span class="hljs-number">8.612815</span> <span class="hljs-number">17.04949</span>      <span class="hljs-number">9</span><br><span class="hljs-number">10</span> <span class="hljs-number">13.405404</span> <span class="hljs-number">18.68178</span>     <span class="hljs-number">10</span>        <br></code></pre></div></td></tr></table></figure></p>
<h3 id="2、操作-1"><a href="#2、操作-1" class="headerlink" title="2、操作"></a>2、操作</h3><h5 id="1-、访问元素"><a href="#1-、访问元素" class="headerlink" title="1)、访问元素"></a>1)、访问元素</h5><p>$、[]下标访问<br>举例：<br><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">&gt; <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[1,1]</span> #访问第一条记录的第一个域<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">9.636283</span><br><br>&gt; <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[1,]</span> #访问第一条记录的所有域<br>        fx       fy fmonth<br><span class="hljs-number">1</span> <span class="hljs-number">9.636283</span> <span class="hljs-number">11.33449</span>      <span class="hljs-number">1</span><br><br>&gt; <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[,2]</span> #访问所有巨记录的第二个域 <br> <span class="hljs-selector-attr">[1]</span> <span class="hljs-number">11.33449</span> <span class="hljs-number">15.93721</span> <span class="hljs-number">10.29192</span> <span class="hljs-number">11.27979</span> <span class="hljs-number">16.61200</span> <span class="hljs-number">15.15761</span> <span class="hljs-number">18.70560</span> <span class="hljs-number">18.09572</span> <span class="hljs-number">17.04949</span><br><span class="hljs-selector-attr">[10]</span> <span class="hljs-number">18.68178</span><br><br>&gt; (y3=a<span class="hljs-variable">$fx</span>)  #访问数据框的fx数据域，双中括号也有想推开那个的效果<br> <span class="hljs-selector-attr">[1]</span>  <span class="hljs-number">9.636283</span>  <span class="hljs-number">9.143942</span>  <span class="hljs-number">9.445728</span>  <span class="hljs-number">8.082495</span>  <span class="hljs-number">7.975052</span>  <span class="hljs-number">6.326113</span> <span class="hljs-number">10.333080</span> <span class="hljs-number">12.059794</span><br> <span class="hljs-selector-attr">[9]</span>  <span class="hljs-number">8.612815</span> <span class="hljs-number">13.405404</span><br> <br>&gt; (y3 = <span class="hljs-selector-tag">a</span> <span class="hljs-selector-attr">[[1]</span>]) #访问数据框的第一个域，也就是fx数据域<br> <span class="hljs-selector-attr">[1]</span>  <span class="hljs-number">9.636283</span>  <span class="hljs-number">9.143942</span>  <span class="hljs-number">9.445728</span>  <span class="hljs-number">8.082495</span>  <span class="hljs-number">7.975052</span>  <span class="hljs-number">6.326113</span> <span class="hljs-number">10.333080</span> <span class="hljs-number">12.059794</span><br> <span class="hljs-selector-attr">[9]</span>  <span class="hljs-number">8.612815</span> <span class="hljs-number">13.405404</span><br> <br> #注意对比以下三个<span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[[1]</span>]和<span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[[<span class="hljs-string">&#x27;fx&#x27;</span>]</span>]、a<span class="hljs-variable">$fx</span><br>&gt; (y3 = <span class="hljs-selector-tag">a</span> <span class="hljs-selector-attr">[[1]</span>]<span class="hljs-selector-attr">[2]</span>) #访问第二条记录的第一个数据域，等价于(y3=<span class="hljs-selector-tag">a</span> <span class="hljs-selector-attr">[[<span class="hljs-string">&#x27;fx&#x27;</span>]</span>]<span class="hljs-selector-attr">[2]</span>)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">9.143942</span><br>&gt; (y3 = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[[<span class="hljs-string">&#x27;fx&#x27;</span>]</span>]<span class="hljs-selector-attr">[2]</span>)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">9.143942</span><br>&gt; (y3= a<span class="hljs-variable">$fx</span><span class="hljs-selector-attr">[2]</span>)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">9.143942</span><br><br>&gt; (x=data<span class="hljs-selector-class">.frame</span>(v1=<span class="hljs-number">1</span>:<span class="hljs-number">5</span>,v2=<span class="hljs-number">6</span>:<span class="hljs-number">10</span>,v3=<span class="hljs-number">11</span>:<span class="hljs-number">15</span>))<br>  v1 v2 v3<br><span class="hljs-number">1</span>  <span class="hljs-number">1</span>  <span class="hljs-number">6</span> <span class="hljs-number">11</span><br><span class="hljs-number">2</span>  <span class="hljs-number">2</span>  <span class="hljs-number">7</span> <span class="hljs-number">12</span><br><span class="hljs-number">3</span>  <span class="hljs-number">3</span>  <span class="hljs-number">8</span> <span class="hljs-number">13</span><br><span class="hljs-number">4</span>  <span class="hljs-number">4</span>  <span class="hljs-number">9</span> <span class="hljs-number">14</span><br><span class="hljs-number">5</span>  <span class="hljs-number">5</span> <span class="hljs-number">10</span> <span class="hljs-number">15</span><br>&gt; x<span class="hljs-variable">$v3</span><span class="hljs-selector-attr">[c(2,4)]</span>=NA  #设置缺省值<br>&gt; x<br>  v1 v2 v3<br><span class="hljs-number">1</span>  <span class="hljs-number">1</span>  <span class="hljs-number">6</span> <span class="hljs-number">11</span><br><span class="hljs-number">2</span>  <span class="hljs-number">2</span>  <span class="hljs-number">7</span> NA<br><span class="hljs-number">3</span>  <span class="hljs-number">3</span>  <span class="hljs-number">8</span> <span class="hljs-number">13</span><br><span class="hljs-number">4</span>  <span class="hljs-number">4</span>  <span class="hljs-number">9</span> NA<br><span class="hljs-number">5</span>  <span class="hljs-number">5</span> <span class="hljs-number">10</span> <span class="hljs-number">15</span><br><br>&gt; x<span class="hljs-selector-attr">[(x$v1&lt;4 &amp; x$v2&gt;=8),]</span> #添加筛选条件<br>  v1 v2 v3<br><span class="hljs-number">3</span>  <span class="hljs-number">3</span>  <span class="hljs-number">8</span> <span class="hljs-number">13</span><br>&gt; x<span class="hljs-selector-attr">[(x$v1&lt;4 | x$v2&gt;=8),]</span><br>  v1 v2 v3<br><span class="hljs-number">1</span>  <span class="hljs-number">1</span>  <span class="hljs-number">6</span> <span class="hljs-number">11</span><br><span class="hljs-number">2</span>  <span class="hljs-number">2</span>  <span class="hljs-number">7</span> NA<br><span class="hljs-number">3</span>  <span class="hljs-number">3</span>  <span class="hljs-number">8</span> <span class="hljs-number">13</span><br><span class="hljs-number">4</span>  <span class="hljs-number">4</span>  <span class="hljs-number">9</span> NA<br><span class="hljs-number">5</span>  <span class="hljs-number">5</span> <span class="hljs-number">10</span> <span class="hljs-number">15</span><br></code></pre></div></td></tr></table></figure></p>
<h5 id="2-、attach、detach"><a href="#2-、attach、detach" class="headerlink" title="2)、attach、detach"></a>2)、attach、detach</h5><blockquote>
<p>挂载和去挂载方法</p>
</blockquote>
<p>举例：<br><figure class="highlight csharp"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs csharp">&gt; fx <span class="hljs-meta">#a没有在搜索路径，输入域名fx，不能找到fx</span><br>Error: <span class="hljs-built_in">object</span> <span class="hljs-string">&#x27;fx&#x27;</span> <span class="hljs-keyword">not</span> found<br>&gt; attach(a)<br>&gt; search() <span class="hljs-meta">#查看搜索路径，a已经被添加到了搜索路径。不用像之前y3=a $fx这样每次都指明搜索路径了。</span><br> [<span class="hljs-meta">1</span>] <span class="hljs-string">&quot;.GlobalEnv&quot;</span>        <span class="hljs-string">&quot;a&quot;</span>                 <span class="hljs-string">&quot;tools:rstudio&quot;</span>     <span class="hljs-string">&quot;package:stats&quot;</span>    <br> [<span class="hljs-meta">5</span>] <span class="hljs-string">&quot;package:graphics&quot;</span>  <span class="hljs-string">&quot;package:grDevices&quot;</span> <span class="hljs-string">&quot;package:utils&quot;</span>     <span class="hljs-string">&quot;package:datasets&quot;</span> <br> [<span class="hljs-meta">9</span>] <span class="hljs-string">&quot;package:methods&quot;</span>   <span class="hljs-string">&quot;Autoloads&quot;</span>         <span class="hljs-string">&quot;package:base&quot;</span>  <br>&gt; fx <span class="hljs-meta">#这时再搜索fx，就能找到这个域了</span><br> [<span class="hljs-meta">1</span>]  <span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span> <span class="hljs-number">10</span><br> &gt; detach(a) <span class="hljs-meta">#去挂载a</span><br>&gt; search() <span class="hljs-meta">#查看搜索路径，a已经从搜索路径中移除了。</span><br> [<span class="hljs-meta">1</span>] <span class="hljs-string">&quot;.GlobalEnv&quot;</span>        <span class="hljs-string">&quot;tools:rstudio&quot;</span>     <span class="hljs-string">&quot;package:stats&quot;</span>     <span class="hljs-string">&quot;package:graphics&quot;</span> <br> [<span class="hljs-meta">5</span>] <span class="hljs-string">&quot;package:grDevices&quot;</span> <span class="hljs-string">&quot;package:utils&quot;</span>     <span class="hljs-string">&quot;package:datasets&quot;</span>  <span class="hljs-string">&quot;package:methods&quot;</span>  <br> [<span class="hljs-meta">9</span>] <span class="hljs-string">&quot;Autoloads&quot;</span>         <span class="hljs-string">&quot;package:base&quot;</span> <br> &gt; fx <span class="hljs-meta">#再搜索fx就找不到了</span><br>Error: <span class="hljs-built_in">object</span> <span class="hljs-string">&#x27;fx&#x27;</span> <span class="hljs-keyword">not</span> found<br></code></pre></div></td></tr></table></figure></p>
<h5 id="3-、with、within"><a href="#3-、with、within" class="headerlink" title="3)、with、within"></a>3)、with、within</h5><blockquote>
<p>with方法能用来重写数据框的元素，先全部清除再重新写入。within 可以向数据框里写入新的数据或者覆盖原数据</p>
</blockquote>
<p>举例：<br><figure class="highlight dns"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dns">&gt; (a=data.frame(fx=rnorm(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">2</span>),<br>+ fy=runif(<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">20</span>),<br>+ fmonth=<span class="hljs-number">1</span>:<span class="hljs-number">10</span>)) #一个有<span class="hljs-number">10</span>条记录<span class="hljs-number">3</span>个域的数据框<br>          fx       fy fmonth<br><span class="hljs-number">1</span>  <span class="hljs-number">13.443635</span> <span class="hljs-number">10.06230</span>      <span class="hljs-number">1</span><br><span class="hljs-number">2</span>  <span class="hljs-number">13.006166 12</span>.<span class="hljs-number">27293</span>      <span class="hljs-number">2</span><br><span class="hljs-number">3</span>   <span class="hljs-number">6.094351</span> <span class="hljs-number">12.29516</span>      <span class="hljs-number">3</span><br><span class="hljs-number">4</span>  <span class="hljs-number">13.028642</span> <span class="hljs-number">10.65463</span>      <span class="hljs-number">4</span><br><span class="hljs-number">5</span>   <span class="hljs-number">9.751618</span> <span class="hljs-number">16.13500</span>      <span class="hljs-number">5</span><br><span class="hljs-number">6</span>   <span class="hljs-number">9.185354 12</span>.<span class="hljs-number">75577</span>      <span class="hljs-number">6</span><br><span class="hljs-number">7</span>  <span class="hljs-number">10.998482</span> <span class="hljs-number">19.68448</span>      <span class="hljs-number">7</span><br><span class="hljs-number">8</span>   <span class="hljs-number">8.311340</span> <span class="hljs-number">19.97293</span>      <span class="hljs-number">8</span><br><span class="hljs-number">9</span>   <span class="hljs-number">9.832441</span> <span class="hljs-number">15.79029</span>      <span class="hljs-number">9</span><br><span class="hljs-number">10</span> <span class="hljs-number">12.850348</span> <span class="hljs-number">10.49540</span>     <span class="hljs-number">10</span><br>&gt; a = with(a,&#123;fx = rnorm (<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">20</span>)&#125;)<br>&gt; a #a = with(a,&#123;fx = rnorm (<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">20</span>)&#125;)执行之后原来的数据被清除，只有fx = rnorm (<span class="hljs-number">10</span>,<span class="hljs-number">10</span>,<span class="hljs-number">20</span>)在里面。<br> [<span class="hljs-number">1</span>]  <span class="hljs-number">22.891675</span> -<span class="hljs-number">21.576549</span>  <span class="hljs-number">27.226358</span> -<span class="hljs-number">10.035888</span> -<span class="hljs-number">29.819505</span>  <span class="hljs-number">29.220687</span>  <span class="hljs-number">38.918151</span><br> [<span class="hljs-number">8</span>]  <span class="hljs-number">21.573663</span>   <span class="hljs-number">7.863019</span>   <span class="hljs-number">2.488882</span><br>&gt; a<br>          fx       fy fmonth<br><span class="hljs-number">1</span>   <span class="hljs-number">9.822649</span> <span class="hljs-number">11.83050</span>      <span class="hljs-number">1</span><br><span class="hljs-number">2</span>   <span class="hljs-number">9.385922</span> <span class="hljs-number">15.01415</span>      <span class="hljs-number">2</span><br><span class="hljs-number">3</span>  <span class="hljs-number">11.001721</span> <span class="hljs-number">19.85722</span>      <span class="hljs-number">3</span><br><span class="hljs-number">4</span>  <span class="hljs-number">13.204639 13</span>.<span class="hljs-number">34855</span>      <span class="hljs-number">4</span><br><span class="hljs-number">5</span>   <span class="hljs-number">9.310447</span> <span class="hljs-number">15.04144</span>      <span class="hljs-number">5</span><br><span class="hljs-number">6</span>   <span class="hljs-number">8.065048</span> <span class="hljs-number">12.83656</span>      <span class="hljs-number">6</span><br><span class="hljs-number">7</span>  <span class="hljs-number">12.037258</span> <span class="hljs-number">10.62446</span>      <span class="hljs-number">7</span><br><span class="hljs-number">8</span>   <span class="hljs-number">8.942234 10</span>.<span class="hljs-number">14267</span>      <span class="hljs-number">8</span><br><span class="hljs-number">9</span>  <span class="hljs-number">13.324897</span> <span class="hljs-number">14.67673</span>      <span class="hljs-number">9</span><br><span class="hljs-number">10</span> <span class="hljs-number">12.710792</span> <span class="hljs-number">11.68848</span>     <span class="hljs-number">10</span><br>&gt; a = within(a ,&#123; #使用within，数据框原来的数据是不会全部清除的。<br>+ fx=<span class="hljs-number">1</span>:<span class="hljs-number">10</span>  #修改fx由随机数变成<span class="hljs-number">1</span>:<span class="hljs-number">10</span><br>+ abc=<span class="hljs-number">2</span>:<span class="hljs-number">11</span> #添加abc这个域<br>+ &#125;)<br>&gt; a<br>   fx       fy fmonth abc<br><span class="hljs-number">1</span>   <span class="hljs-number">1 11.83050</span>      <span class="hljs-number">1</span>   <span class="hljs-number">2</span><br><span class="hljs-number">2</span>   <span class="hljs-number">2 15.01415</span>      <span class="hljs-number">2</span>   <span class="hljs-number">3</span><br><span class="hljs-number">3</span>   <span class="hljs-number">3 19.85722</span>      <span class="hljs-number">3</span>   <span class="hljs-number">4</span><br><span class="hljs-number">4</span>   <span class="hljs-number">4 13.34855</span>      <span class="hljs-number">4</span>   <span class="hljs-number">5</span><br><span class="hljs-number">5</span>   <span class="hljs-number">5 15.04144</span>      <span class="hljs-number">5</span>   <span class="hljs-number">6</span><br><span class="hljs-number">6</span>   <span class="hljs-number">6 12.83656</span>      <span class="hljs-number">6</span>   <span class="hljs-number">7</span><br><span class="hljs-number">7</span>   <span class="hljs-number">7 10.62446</span>      <span class="hljs-number">7</span>   <span class="hljs-number">8</span><br><span class="hljs-number">8</span>   <span class="hljs-number">8 10.14267</span>      <span class="hljs-number">8</span>   <span class="hljs-number">9</span><br><span class="hljs-number">9</span>   <span class="hljs-number">9 14.67673</span>      <span class="hljs-number">9</span>  <span class="hljs-number">10</span><br><span class="hljs-number">10</span> <span class="hljs-number">10 11.68848</span>     <span class="hljs-number">10</span>  <span class="hljs-number">11</span><br><br>&gt; a\$fz = a\$fx + a\$fy  #新增一个数据域，为fx和fy的和，可以直接使用$符来添加数据域<br>&gt; a<br>   fx       fy fmonth abc       fz<br><span class="hljs-number">1</span>   <span class="hljs-number">1 11.83050</span>      <span class="hljs-number">1</span>   <span class="hljs-number">2 12.83050</span><br><span class="hljs-number">2</span>   <span class="hljs-number">2 15.01415</span>      <span class="hljs-number">2</span>   <span class="hljs-number">3 17.01415</span><br><span class="hljs-number">3</span>   <span class="hljs-number">3 19.85722</span>      <span class="hljs-number">3</span>   <span class="hljs-number">4 22.85722</span><br><span class="hljs-number">4</span>   <span class="hljs-number">4 13.34855</span>      <span class="hljs-number">4</span>   <span class="hljs-number">5 17.34855</span><br><span class="hljs-number">5</span>   <span class="hljs-number">5 15.04144</span>      <span class="hljs-number">5</span>   <span class="hljs-number">6 20.04144</span><br><span class="hljs-number">6</span>   <span class="hljs-number">6 12.83656</span>      <span class="hljs-number">6</span>   <span class="hljs-number">7 18.83656</span><br><span class="hljs-number">7</span>   <span class="hljs-number">7 10.62446</span>      <span class="hljs-number">7</span>   <span class="hljs-number">8 17.62446</span><br><span class="hljs-number">8</span>   <span class="hljs-number">8 10.14267</span>      <span class="hljs-number">8</span>   <span class="hljs-number">9 18.14267</span><br><span class="hljs-number">9</span>   <span class="hljs-number">9 14.67673</span>      <span class="hljs-number">9</span>  <span class="hljs-number">10 23.67673</span><br><span class="hljs-number">10</span> <span class="hljs-number">10 11.68848</span>     <span class="hljs-number">10</span>  <span class="hljs-number">11 21.68848</span><br></code></pre></div></td></tr></table></figure></p>
<h5 id="4-、subset"><a href="#4-、subset" class="headerlink" title="4)、subset"></a>4)、subset</h5><blockquote>
<p>subset是一个条件过滤的语句</p>
</blockquote>
<p>举例：<br><figure class="highlight maxima"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs maxima">#fx&gt;<span class="hljs-number">1</span>&amp;fmonth==<span class="hljs-number">8</span>表示将符合条件的行记录（行）取出来，select=c(fx,<span class="hljs-built_in">fb</span>,fz)表示将这些行记录的fx和<span class="hljs-built_in">fb</span>、fz域（列）取出来。<br>&gt; b = <span class="hljs-built_in">subset</span>(a, fx&gt;<span class="hljs-number">1</span>&amp;fmonth==<span class="hljs-number">8</span>,select=c(fx,<span class="hljs-built_in">fb</span>,fz))<br>&gt; b<br>  fx      <span class="hljs-built_in">fb</span>       fz<br><span class="hljs-number">8</span>  <span class="hljs-number">8</span> <span class="hljs-number">163.284</span> <span class="hljs-number">18.14267</span><br></code></pre></div></td></tr></table></figure></p>
<h5 id="5-、edit和fix"><a href="#5-、edit和fix" class="headerlink" title="5)、edit和fix"></a>5)、edit和fix</h5><blockquote>
<p>b = edit(a) edit是Rstudio的一个可视化工具，将a修改之后的数据存到b里面。</p>
<p>fix(a) fix也是Rstudio的一个可视化工具，直接在a基础上修改数据框的内容。</p>
</blockquote>
<h2 id="高维数据类型"><a href="#高维数据类型" class="headerlink" title="高维数据类型"></a>高维数据类型</h2><blockquote>
<p><strong>高维数据中，数组和列表的区别是，数组中元素的类型必须是相同的，而列表中的成分不一定一样。</strong></p>
</blockquote>
<h3 id="列表-list"><a href="#列表-list" class="headerlink" title="列表 list"></a>列表 list</h3><blockquote>
<p>什么数据都可以在列表里面存储，元素被称为成份，R语言中的数组是矩阵的延伸，必须是三维以上的数据结构。列表主要是用于函数调用和返回。</p>
</blockquote>
<h4 id="1、创建-list"><a href="#1、创建-list" class="headerlink" title="1、创建 list()"></a>1、创建 list()</h4><p>举例：<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap"><span class="hljs-comment">#创造一个列表，里面有三个元素x,y,z，分别是数组，矩阵，数据框。</span><br>&gt; (a=list(x=1:10,y=matrix(1:16,4,4),z=data.frame()))<br>$x<br> [1] <span class="hljs-number"> 1 </span><span class="hljs-number"> 2 </span><span class="hljs-number"> 3 </span><span class="hljs-number"> 4 </span><span class="hljs-number"> 5 </span><span class="hljs-number"> 6 </span><span class="hljs-number"> 7 </span><span class="hljs-number"> 8 </span><span class="hljs-number"> 9 </span>10<br><br>$y<br>     [,1] [,2] [,3] [,4]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 9 </span>  13<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 6 </span> <span class="hljs-number"> 10 </span>  14<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 7 </span> <span class="hljs-number"> 11 </span>  15<br>[4,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 8 </span> <span class="hljs-number"> 12 </span>  16<br><br>$z<br>data frame with<span class="hljs-number"> 0 </span>columns and<span class="hljs-number"> 0 </span>rows<br></code></pre></div></td></tr></table></figure></p>
<h4 id="2、操作-2"><a href="#2、操作-2" class="headerlink" title="2、操作"></a>2、操作</h4><p>举例：<br><figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">&gt; names(a) #查看列表成份<br><span class="hljs-string">[1]</span> <span class="hljs-string">&quot;x&quot;</span> <span class="hljs-string">&quot;y&quot;</span> <span class="hljs-string">&quot;z&quot;</span><br>&gt; names(a) = c(<span class="hljs-string">&#x27;C1&#x27;</span>,<span class="hljs-string">&#x27;C2&#x27;</span>,<span class="hljs-string">&#x27;C3&#x27;</span>) #修改列表成份名称<br>&gt; names(a)<br><span class="hljs-string">[1]</span> <span class="hljs-string">&quot;C1&quot;</span> <span class="hljs-string">&quot;C2&quot;</span> <span class="hljs-string">&quot;C3&quot;</span><br>&gt; (c = a[<span class="hljs-string">&#x27;C2&#x27;</span>]) #利用成分的名称访问数，这时c是一个列表，不是矩阵，不能用c[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]来访问数据<br>$C2<br><span class="hljs-string">     [,1]</span> [,<span class="hljs-number">2</span>] [,<span class="hljs-number">3</span>] [,<span class="hljs-number">4</span>]<br><span class="hljs-string">[1,]</span>    <span class="hljs-number">1</span>    <span class="hljs-number">5</span>    <span class="hljs-number">9</span>   <span class="hljs-number">13</span><br><span class="hljs-string">[2,]</span>    <span class="hljs-number">2</span>    <span class="hljs-number">6</span>   <span class="hljs-number">10</span>   <span class="hljs-number">14</span><br><span class="hljs-string">[3,]</span>    <span class="hljs-number">3</span>    <span class="hljs-number">7</span>   <span class="hljs-number">11</span>   <span class="hljs-number">15</span><br><span class="hljs-string">[4,]</span>    <span class="hljs-number">4</span>    <span class="hljs-number">8</span>   <span class="hljs-number">12</span>   <span class="hljs-number">16</span><br>&gt; (c[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>]) #拿到的c是一个列表，不是矩阵，不能用c[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]<br>Error <span class="hljs-keyword">in</span> c[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>] : incorrect number of dimensions<br>&gt; <span class="hljs-keyword">class</span>(<span class="hljs-symbol">c</span>)  #查看<span class="hljs-symbol">c</span>的数据结构是列表<br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">list</span>&quot;<br><br><br>&gt; (<span class="hljs-symbol">c</span> = <span class="hljs-symbol">a</span>[[&#x27;<span class="hljs-symbol">C2</span>&#x27;]])  #通过这样的方式来访问<span class="hljs-symbol">C2</span>，<span class="hljs-symbol">C2</span>就是矩阵了<br>     [,<span class="hljs-symbol">1</span>] [,<span class="hljs-symbol">2</span>] [,<span class="hljs-symbol">3</span>] [,<span class="hljs-symbol">4</span>]<br>[<span class="hljs-symbol">1,</span>]    <span class="hljs-symbol">1</span>    <span class="hljs-symbol">5</span>    <span class="hljs-symbol">9</span>   <span class="hljs-symbol">13</span><br>[<span class="hljs-symbol">2,</span>]    <span class="hljs-symbol">2</span>    <span class="hljs-symbol">6</span>   <span class="hljs-symbol">10</span>   <span class="hljs-symbol">14</span><br>[<span class="hljs-symbol">3,</span>]    <span class="hljs-symbol">3</span>    <span class="hljs-symbol">7</span>   <span class="hljs-symbol">11</span>   <span class="hljs-symbol">15</span><br>[<span class="hljs-symbol">4,</span>]    <span class="hljs-symbol">4</span>    <span class="hljs-symbol">8</span>   <span class="hljs-symbol">12</span>   <span class="hljs-symbol">16</span><br>&gt; <span class="hljs-symbol">class</span>(<span class="hljs-symbol">c</span>)<br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">matrix</span>&quot;<br>&gt; (<span class="hljs-symbol">c</span>[<span class="hljs-symbol">1,<span class="hljs-symbol">2</span></span>]) #能用<span class="hljs-symbol">c</span>[<span class="hljs-symbol">2,<span class="hljs-symbol">3</span></span>]来访问数据<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">5</span><br>&gt; (<span class="hljs-symbol">c</span>=<span class="hljs-symbol">a</span>$<span class="hljs-symbol">C2</span>)   #<span class="hljs-symbol">c</span>=<span class="hljs-symbol">a</span>$<span class="hljs-symbol">C2</span>和<span class="hljs-symbol">c</span> = <span class="hljs-symbol">a</span>[[&#x27;<span class="hljs-symbol">C2</span>&#x27;]]效果一样<br>     [,<span class="hljs-symbol">1</span>] [,<span class="hljs-symbol">2</span>] [,<span class="hljs-symbol">3</span>] [,<span class="hljs-symbol">4</span>]<br>[<span class="hljs-symbol">1,</span>]    <span class="hljs-symbol">1</span>    <span class="hljs-symbol">5</span>    <span class="hljs-symbol">9</span>   <span class="hljs-symbol">13</span><br>[<span class="hljs-symbol">2,</span>]    <span class="hljs-symbol">2</span>    <span class="hljs-symbol">6</span>   <span class="hljs-symbol">10</span>   <span class="hljs-symbol">14</span><br>[<span class="hljs-symbol">3,</span>]    <span class="hljs-symbol">3</span>    <span class="hljs-symbol">7</span>   <span class="hljs-symbol">11</span>   <span class="hljs-symbol">15</span><br>[<span class="hljs-symbol">4,</span>]    <span class="hljs-symbol">4</span>    <span class="hljs-symbol">8</span>   <span class="hljs-symbol">12</span>   <span class="hljs-symbol">16</span><br>&gt; <span class="hljs-symbol">class</span>(<span class="hljs-symbol">c</span>)<br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">matrix</span>&quot;<br><br>#查看列表中嵌套的列表的元素<br>&gt; (<span class="hljs-symbol">x</span>=<span class="hljs-symbol">list</span>(<span class="hljs-symbol">a</span>=<span class="hljs-symbol">list</span>(<span class="hljs-symbol">1,<span class="hljs-symbol">2</span>,<span class="hljs-symbol">3</span>,<span class="hljs-symbol">4</span></span>),<span class="hljs-symbol">b</span>=<span class="hljs-symbol">c</span>(&#x27;<span class="hljs-symbol">Monday</span>&#x27;,&#x27;<span class="hljs-symbol">Tuesday</span>&#x27;)))<br>$<span class="hljs-symbol">a</span><br>$<span class="hljs-symbol">a</span>[[<span class="hljs-symbol">1</span>]]<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">1</span><br><br>$<span class="hljs-symbol">a</span>[[<span class="hljs-symbol">2</span>]]<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">2</span><br><br>$<span class="hljs-symbol">a</span>[[<span class="hljs-symbol">3</span>]]<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">3</span><br><br>$<span class="hljs-symbol">a</span>[[<span class="hljs-symbol">4</span>]]<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">4</span><br><br><br>$<span class="hljs-symbol">b</span><br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">Monday</span>&quot;  &quot;<span class="hljs-symbol">Tuesday</span>&quot;<br><br>&gt; (<span class="hljs-symbol">x</span>[[<span class="hljs-symbol">1</span>]][[<span class="hljs-symbol">3</span>]])  #查看子列表中的第<span class="hljs-symbol">3</span>个元素的内容<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">3</span><br><br>&gt; (<span class="hljs-symbol">x</span>[[<span class="hljs-symbol">1</span>]][<span class="hljs-symbol">3</span>])  #查看子列表中的第<span class="hljs-symbol">3</span>个元素<br>[[<span class="hljs-symbol">1</span>]]<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">3</span><br><br>&gt; (<span class="hljs-symbol">x</span>[[<span class="hljs-symbol">c</span>(<span class="hljs-symbol">1,<span class="hljs-symbol">3</span></span>)]]) #查看第一个元素的第三个内容<br>[<span class="hljs-symbol">1</span>] <span class="hljs-symbol">3</span>	 <br><br>&gt; (<span class="hljs-symbol">x</span>[[<span class="hljs-symbol">c</span>(<span class="hljs-symbol">2,<span class="hljs-symbol">2</span></span>)]]) #查看第二个元素的第二个内容<br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">Tuesday</span>&quot;<br><br>#列表对元素有不完全匹配的功能<br>&gt; (<span class="hljs-symbol">y</span>=<span class="hljs-symbol">list</span>(<span class="hljs-symbol">asdfg</span>=<span class="hljs-symbol">1:<span class="hljs-symbol">10</span>,<span class="hljs-symbol">rtytre</span></span>=<span class="hljs-symbol">11:<span class="hljs-symbol">20</span></span>))  #先生成一个有两个成分的元素<br>$<span class="hljs-symbol">asdfg</span><br> [<span class="hljs-symbol">1</span>]  <span class="hljs-symbol">1</span>  <span class="hljs-symbol">2</span>  <span class="hljs-symbol">3</span>  <span class="hljs-symbol">4</span>  <span class="hljs-symbol">5</span>  <span class="hljs-symbol">6</span>  <span class="hljs-symbol">7</span>  <span class="hljs-symbol">8</span>  <span class="hljs-symbol">9</span> <span class="hljs-symbol">10</span><br><br>$<span class="hljs-symbol">rtytre</span><br> [<span class="hljs-symbol">1</span>] <span class="hljs-symbol">11</span> <span class="hljs-symbol">12</span> <span class="hljs-symbol">13</span> <span class="hljs-symbol">14</span> <span class="hljs-symbol">15</span> <span class="hljs-symbol">16</span> <span class="hljs-symbol">17</span> <span class="hljs-symbol">18</span> <span class="hljs-symbol">19</span> <span class="hljs-symbol">20</span><br><br>&gt; <span class="hljs-symbol">y</span>$<span class="hljs-symbol">asdfg</span>   #输入完整的名字<br> [<span class="hljs-symbol">1</span>]  <span class="hljs-symbol">1</span>  <span class="hljs-symbol">2</span>  <span class="hljs-symbol">3</span>  <span class="hljs-symbol">4</span>  <span class="hljs-symbol">5</span>  <span class="hljs-symbol">6</span>  <span class="hljs-symbol">7</span>  <span class="hljs-symbol">8</span>  <span class="hljs-symbol">9</span> <span class="hljs-symbol">10</span><br>&gt; <span class="hljs-symbol">y</span>$<span class="hljs-symbol">a</span>       #输入开头字母一样可以完成匹配<br> [<span class="hljs-symbol">1</span>]  <span class="hljs-symbol">1</span>  <span class="hljs-symbol">2</span>  <span class="hljs-symbol">3</span>  <span class="hljs-symbol">4</span>  <span class="hljs-symbol">5</span>  <span class="hljs-symbol">6</span>  <span class="hljs-symbol">7</span>  <span class="hljs-symbol">8</span>  <span class="hljs-symbol">9</span> <span class="hljs-symbol">10</span><br>&gt; <span class="hljs-symbol">y</span>[[&#x27;<span class="hljs-symbol">asdfg</span>&#x27;]]<br> [<span class="hljs-symbol">1</span>]  <span class="hljs-symbol">1</span>  <span class="hljs-symbol">2</span>  <span class="hljs-symbol">3</span>  <span class="hljs-symbol">4</span>  <span class="hljs-symbol">5</span>  <span class="hljs-symbol">6</span>  <span class="hljs-symbol">7</span>  <span class="hljs-symbol">8</span>  <span class="hljs-symbol">9</span> <span class="hljs-symbol">10</span><br>&gt; <span class="hljs-symbol">y</span>[[&#x27;<span class="hljs-symbol">a</span>&#x27;,<span class="hljs-symbol">exact</span> = <span class="hljs-symbol">FALSE</span>]] #输入开头字母一样可以完成匹配，不过需要设置<span class="hljs-symbol">exact</span> = <span class="hljs-symbol">FALSE</span>关闭精确匹配<br> [<span class="hljs-symbol">1</span>]  <span class="hljs-symbol">1</span>  <span class="hljs-symbol">2</span>  <span class="hljs-symbol">3</span>  <span class="hljs-symbol">4</span>  <span class="hljs-symbol">5</span>  <span class="hljs-symbol">6</span>  <span class="hljs-symbol">7</span>  <span class="hljs-symbol">8</span>  <span class="hljs-symbol">9</span> <span class="hljs-symbol">10</span><br><br></code></pre></div></td></tr></table></figure></p>
<h3 id="数组-array"><a href="#数组-array" class="headerlink" title="数组 array"></a>数组 array</h3><h4 id="1、利用array函数创建数组"><a href="#1、利用array函数创建数组" class="headerlink" title="1、利用array函数创建数组"></a>1、利用array函数创建数组</h4><p>举例：<br><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap"><span class="hljs-comment">#(a = array(1:60,dim = c(3,4,5)))</span><br><br>&gt; (a = array(1:60,c(3,4,5)))  <br>, , 1<br><br>     [,1] [,2] [,3] [,4]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 7 </span>  10<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 8 </span>  11<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 6 </span>  <span class="hljs-number"> 9 </span>  12<br><br>, , 2<br><br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 13 </span> <span class="hljs-number"> 16 </span> <span class="hljs-number"> 19 </span>  22<br>[2,]  <span class="hljs-number"> 14 </span> <span class="hljs-number"> 17 </span> <span class="hljs-number"> 20 </span>  23<br>[3,]  <span class="hljs-number"> 15 </span> <span class="hljs-number"> 18 </span> <span class="hljs-number"> 21 </span>  24<br><br>, , 3<br><br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 25 </span> <span class="hljs-number"> 28 </span> <span class="hljs-number"> 31 </span>  34<br>[2,]  <span class="hljs-number"> 26 </span> <span class="hljs-number"> 29 </span> <span class="hljs-number"> 32 </span>  35<br>[3,]  <span class="hljs-number"> 27 </span> <span class="hljs-number"> 30 </span> <span class="hljs-number"> 33 </span>  36<br><br>, , 4<br><br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 37 </span> <span class="hljs-number"> 40 </span> <span class="hljs-number"> 43 </span>  46<br>[2,]  <span class="hljs-number"> 38 </span> <span class="hljs-number"> 41 </span> <span class="hljs-number"> 44 </span>  47<br>[3,]  <span class="hljs-number"> 39 </span> <span class="hljs-number"> 42 </span> <span class="hljs-number"> 45 </span>  48<br><br>, , 5<br><br>     [,1] [,2] [,3] [,4]<br>[1,]  <span class="hljs-number"> 49 </span> <span class="hljs-number"> 52 </span> <span class="hljs-number"> 55 </span>  58<br>[2,]  <span class="hljs-number"> 50 </span> <span class="hljs-number"> 53 </span> <span class="hljs-number"> 56 </span>  59<br>[3,]  <span class="hljs-number"> 51 </span> <span class="hljs-number"> 54 </span> <span class="hljs-number"> 57 </span>  60<br><br><br></code></pre></div></td></tr></table></figure></p>
<h4 id="2、访问"><a href="#2、访问" class="headerlink" title="2、访问"></a>2、访问</h4><p><strong>利用下来访问元素</strong></p>
<p>举例：<br><figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css">&gt; (<span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[1,2,3]</span>)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">28</span><br></code></pre></div></td></tr></table></figure></p>
<h3 id="日期和时间-date"><a href="#日期和时间-date" class="headerlink" title="日期和时间 date"></a>日期和时间 date</h3><h4 id="Date"><a href="#Date" class="headerlink" title="Date"></a>Date</h4><ul>
<li><strong>Date 距离19701-01-01的天数/date()/Sys.Date()</strong></li>
<li><strong>weekdays() / months() /quarters()/as.Date/julian</strong></li>
</ul>
<h4 id="1、常用函数"><a href="#1、常用函数" class="headerlink" title="1、常用函数"></a>1、常用函数</h4><p><strong>举例</strong><br><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">&gt; (x=date()) #查看当前的时间<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;Sat May 07 01:51:49 2016&quot;</span><br>&gt; class(x)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;character&quot;</span><br><br>&gt; (x2=Sys<span class="hljs-selector-class">.Date</span>()) #查看当前的日期<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;2016-05-07&quot;</span><br><br>&gt; (x3=as<span class="hljs-selector-class">.Date</span>(<span class="hljs-string">&quot;2016-06-08&quot;</span>)) #将普通的数据转化成date型数据<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;2016-06-08&quot;</span><br>&gt; class(x3)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;Date&quot;</span><br><br>&gt; weekdays(x3) #查看是星期几<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;星期三&quot;</span><br><br>&gt; months(x3)  #查看是哪一个月<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;六月&quot;</span><br><br>&gt; quarters(x3) #查看是那个季度 Q2代表是第二个季度<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;Q2&quot;</span><br><br>&gt; julian(x3) #查看，相距<span class="hljs-number">1970</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span>过去多少天<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">16960</span><br><span class="hljs-function"><span class="hljs-title">attr</span><span class="hljs-params">(,<span class="hljs-string">&quot;origin&quot;</span>)</span></span><br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;1970-01-01&quot;</span><br></code></pre></div></td></tr></table></figure></p>
<h4 id="2、计算"><a href="#2、计算" class="headerlink" title="2、计算"></a>2、计算</h4><p><strong>举例</strong><br><figure class="highlight plain"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs plain">&gt; (x3&#x3D;as.Date(&quot;2016-06-08&quot;))<br>[1] &quot;2016-06-08&quot;<br>&gt; (x4&#x3D;as.Date(&quot;2016-01-03&quot;))<br>[1] &quot;2016-01-03&quot;<br>&gt; (x3-x4) #相减<br>Time difference of 157 days<br>&gt; as.numeric(x3-x4) #只得到数字<br>[1] 157<br></code></pre></div></td></tr></table></figure></p>
<h3 id="POSIXct-POSIXIt"><a href="#POSIXct-POSIXIt" class="headerlink" title="POSIXct/POSIXIt"></a>POSIXct/POSIXIt</h3><ul>
<li><strong>POSIXct 整数，用于存入到数据框。</strong></li>
<li><strong>POSIXlt 列表，还包含星期、年、月、日等信息</strong></li>
<li><strong>Sys.time() 打印举例1970-01-01的秒数</strong></li>
</ul>
<p><strong>举例</strong><br><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">&gt; (x=Sys<span class="hljs-selector-class">.time</span>()) #查看当前时间<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;2016-05-07 02:06:11 CST&quot;</span><br><br>&gt; class(x)  <br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;POSIXct&quot;</span> <span class="hljs-string">&quot;POSIXt&quot;</span> <br><br>&gt; (p=as<span class="hljs-selector-class">.POSIXlt</span>(x))  #POSIXct转成POSIXlt <br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;2016-05-07 02:08:28 CST&quot;</span><br>&gt; class(p)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;POSIXlt&quot;</span> <span class="hljs-string">&quot;POSIXt&quot;</span> <br><br>&gt; names(unclass(p)) #unclass把内容列下，把属性去掉。names获取名称<br> <span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;sec&quot;</span>    <span class="hljs-string">&quot;min&quot;</span>    <span class="hljs-string">&quot;hour&quot;</span>   <span class="hljs-string">&quot;mday&quot;</span>   <span class="hljs-string">&quot;mon&quot;</span>    <span class="hljs-string">&quot;year&quot;</span>   <span class="hljs-string">&quot;wday&quot;</span>   <span class="hljs-string">&quot;yday&quot;</span>   <span class="hljs-string">&quot;isdst&quot;</span> <br><span class="hljs-selector-attr">[10]</span> <span class="hljs-string">&quot;zone&quot;</span>   <span class="hljs-string">&quot;gmtoff&quot;</span><br><br>&gt;  p<span class="hljs-variable">$sec</span>   #查看信息<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-number">28.09093</span><br></code></pre></div></td></tr></table></figure></p>
<h3 id="普通数据格式转换成date型数据"><a href="#普通数据格式转换成date型数据" class="headerlink" title="普通数据格式转换成date型数据"></a>普通数据格式转换成date型数据</h3><figure class="highlight llvm"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs llvm">&gt; (<span class="hljs-keyword">x</span><span class="hljs-number">1</span> <span class="hljs-operator">=</span> &#x27;Jan <span class="hljs-number">1</span>，<span class="hljs-number">2015</span> <span class="hljs-number">01</span>:<span class="hljs-number">01</span>&#x27;)<br>[<span class="hljs-number">1</span>] <span class="hljs-string">&quot;Jan 1，2015 01:01&quot;</span><br>&gt; strptime(<span class="hljs-keyword">x</span><span class="hljs-number">1</span><span class="hljs-punctuation">,</span>&#x27;<span class="hljs-variable">%B</span> <span class="hljs-variable">%d</span>，<span class="hljs-variable">%Y</span> <span class="hljs-variable">%H</span>:<span class="hljs-variable">%M</span>&#x27;)<br>[<span class="hljs-number">1</span>] &#x27;<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span> <span class="hljs-number">01</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span> CST&#x27;<br></code></pre></div></td></tr></table></figure>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><h3 id="1、转换安全级别：字符-gt-数字-gt-布尔"><a href="#1、转换安全级别：字符-gt-数字-gt-布尔" class="headerlink" title="1、转换安全级别：字符&gt;数字&gt;布尔"></a>1、转换安全级别：字符&gt;数字&gt;布尔</h3><blockquote>
<p>由数字转字符，是安全的，但是由字符转数字是不安全的。因为字符的安全级别比数字高，由较高安全级别的数据类型转化成较低安全级别的数据类型是不安全的。</p>
</blockquote>
<ul>
<li><strong>mode(x)   #查看数据类型</strong></li>
<li><strong>class(x) #查看结构类型</strong></li>
</ul>
<p>举例：<br><figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">&gt; (x = c(<span class="hljs-number">1</span>:<span class="hljs-number">2</span>,<span class="hljs-string">&quot;hello&quot;</span>,T)) #<span class="hljs-number">1</span>:<span class="hljs-number">2</span>是数字，<span class="hljs-string">&quot;hello&quot;</span>是字符串，T是布尔值 由于隐式的数据类型的转换，输出x全部都是字符串<br><span class="hljs-string">[1]</span> <span class="hljs-string">&quot;1&quot;</span>     <span class="hljs-string">&quot;2&quot;</span>     <span class="hljs-string">&quot;hello&quot;</span> <span class="hljs-string">&quot;TRUE&quot;</span> <br>&gt; mode(x)   #查看数据类型<br><span class="hljs-string">[1]</span> <span class="hljs-string">&quot;character&quot;</span><br>&gt; <span class="hljs-keyword">class</span>(<span class="hljs-symbol">x</span>) #查看结构类型，<span class="hljs-symbol">mode</span>()和<span class="hljs-symbol">class</span>()用在向量上的时候，都是<span class="hljs-symbol">character</span>，字符型的数据<br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">character</span>&quot;<br><br>&gt; (<span class="hljs-symbol">a</span> = <span class="hljs-symbol">matrix</span>(<span class="hljs-symbol">1:<span class="hljs-symbol">16</span>,<span class="hljs-symbol">nrow</span></span>=<span class="hljs-symbol">4</span>))<br>     [,<span class="hljs-symbol">1</span>] [,<span class="hljs-symbol">2</span>] [,<span class="hljs-symbol">3</span>] [,<span class="hljs-symbol">4</span>]<br>[<span class="hljs-symbol">1,</span>]    <span class="hljs-symbol">1</span>    <span class="hljs-symbol">5</span>    <span class="hljs-symbol">9</span>   <span class="hljs-symbol">13</span><br>[<span class="hljs-symbol">2,</span>]    <span class="hljs-symbol">2</span>    <span class="hljs-symbol">6</span>   <span class="hljs-symbol">10</span>   <span class="hljs-symbol">14</span><br>[<span class="hljs-symbol">3,</span>]    <span class="hljs-symbol">3</span>    <span class="hljs-symbol">7</span>   <span class="hljs-symbol">11</span>   <span class="hljs-symbol">15</span><br>[<span class="hljs-symbol">4,</span>]    <span class="hljs-symbol">4</span>    <span class="hljs-symbol">8</span>   <span class="hljs-symbol">12</span>   <span class="hljs-symbol">16</span><br>&gt; <span class="hljs-symbol">mode</span>(<span class="hljs-symbol">a</span>)<br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">numeric</span>&quot;<br>&gt; <span class="hljs-symbol">class</span>(<span class="hljs-symbol">a</span>)  #<span class="hljs-symbol">mode</span>方法和<span class="hljs-symbol">class</span>方法用在矩阵或者数据框上的时候使不同的结果<br>[<span class="hljs-symbol">1</span>] &quot;<span class="hljs-symbol">matrix</span>&quot;<br></code></pre></div></td></tr></table></figure></p>
<h3 id="2、数据结构转换"><a href="#2、数据结构转换" class="headerlink" title="2、数据结构转换"></a>2、数据结构转换</h3><h4 id="1）、使用函数进行数据结构的转变"><a href="#1）、使用函数进行数据结构的转变" class="headerlink" title="1）、使用函数进行数据结构的转变"></a>1）、使用函数进行数据结构的转变</h4><ul>
<li><strong>is.charatcer [is.****]    # 检查是否是字符串</strong></li>
<li><strong>as.characer [as.****]    # 转换成字符串</strong></li>
</ul>
<p>举例：<br><figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">&gt; x<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;1&quot;</span>     <span class="hljs-string">&quot;2&quot;</span>     <span class="hljs-string">&quot;hello&quot;</span> <span class="hljs-string">&quot;TRUE&quot;</span> <br>&gt; (<span class="hljs-selector-tag">a</span> = matrix(<span class="hljs-number">1</span>:<span class="hljs-number">20</span>,nrow=<span class="hljs-number">4</span>))<br>     <span class="hljs-selector-attr">[,1]</span> <span class="hljs-selector-attr">[,2]</span> <span class="hljs-selector-attr">[,3]</span> <span class="hljs-selector-attr">[,4]</span> <span class="hljs-selector-attr">[,5]</span><br><span class="hljs-selector-attr">[1,]</span>    <span class="hljs-number">1</span>    <span class="hljs-number">5</span>    <span class="hljs-number">9</span>   <span class="hljs-number">13</span>   <span class="hljs-number">17</span><br><span class="hljs-selector-attr">[2,]</span>    <span class="hljs-number">2</span>    <span class="hljs-number">6</span>   <span class="hljs-number">10</span>   <span class="hljs-number">14</span>   <span class="hljs-number">18</span><br><span class="hljs-selector-attr">[3,]</span>    <span class="hljs-number">3</span>    <span class="hljs-number">7</span>   <span class="hljs-number">11</span>   <span class="hljs-number">15</span>   <span class="hljs-number">19</span><br><span class="hljs-selector-attr">[4,]</span>    <span class="hljs-number">4</span>    <span class="hljs-number">8</span>   <span class="hljs-number">12</span>   <span class="hljs-number">16</span>   <span class="hljs-number">20</span><br><br>&gt; class(x)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;character&quot;</span><br>&gt; class(a)<br><span class="hljs-selector-attr">[1]</span> <span class="hljs-string">&quot;matrix&quot;</span><br><br>&gt; is<span class="hljs-selector-class">.matrix</span>(a) #判断a是不是矩阵<br><span class="hljs-selector-attr">[1]</span> TRUE<br>&gt; is<span class="hljs-selector-class">.matrix</span>(x)<br><span class="hljs-selector-attr">[1]</span> FALSE<br>&gt; (as<span class="hljs-selector-class">.matrix</span>(x)) #将不是矩阵的x转换成矩阵<br>     <span class="hljs-selector-attr">[,1]</span>   <br><span class="hljs-selector-attr">[1,]</span> <span class="hljs-string">&quot;1&quot;</span>    <br><span class="hljs-selector-attr">[2,]</span> <span class="hljs-string">&quot;2&quot;</span>    <br><span class="hljs-selector-attr">[3,]</span> <span class="hljs-string">&quot;hello&quot;</span><br><span class="hljs-selector-attr">[4,]</span> <span class="hljs-string">&quot;TRUE&quot;</span> <br><br></code></pre></div></td></tr></table></figure></p>
<h4 id="2）、通过修改维度信息改变数据的结构"><a href="#2）、通过修改维度信息改变数据的结构" class="headerlink" title="2）、通过修改维度信息改变数据的结构"></a>2）、通过修改维度信息改变数据的结构</h4><p><strong>举例</strong></p>
<figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap"><span class="hljs-comment">#第一示例</span><br>&gt; (y=1:10)<br> [1] <span class="hljs-number"> 1 </span><span class="hljs-number"> 2 </span><span class="hljs-number"> 3 </span><span class="hljs-number"> 4 </span><span class="hljs-number"> 5 </span><span class="hljs-number"> 6 </span><span class="hljs-number"> 7 </span><span class="hljs-number"> 8 </span><span class="hljs-number"> 9 </span>10<br>&gt; dim(y)=c(2,5) <span class="hljs-comment">#将一维的向量修改为二维的数组</span><br>&gt; y<br>     [,1] [,2] [,3] [,4] [,5]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 5 </span>  <span class="hljs-number"> 7 </span>   9<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 6 </span>  <span class="hljs-number"> 8 </span>  10<br><br><span class="hljs-comment">#第二示例</span><br>&gt; (x=matrix(1:20,nrow=5))<br>     [,1] [,2] [,3] [,4]<br>[1,]   <span class="hljs-number"> 1 </span>  <span class="hljs-number"> 6 </span> <span class="hljs-number"> 11 </span>  16<br>[2,]   <span class="hljs-number"> 2 </span>  <span class="hljs-number"> 7 </span> <span class="hljs-number"> 12 </span>  17<br>[3,]   <span class="hljs-number"> 3 </span>  <span class="hljs-number"> 8 </span> <span class="hljs-number"> 13 </span>  18<br>[4,]   <span class="hljs-number"> 4 </span>  <span class="hljs-number"> 9 </span> <span class="hljs-number"> 14 </span>  19<br>[5,]   <span class="hljs-number"> 5 </span> <span class="hljs-number"> 10 </span> <span class="hljs-number"> 15 </span>  20<br>&gt; (dim(x)=c(5,2,2))  <span class="hljs-comment">#将二维的数组修改为三维的列表</span><br>[1]<span class="hljs-number"> 5 </span>2 2<br>&gt; x<br>, , 1<br><br>     [,1] [,2]<br>[1,]   <span class="hljs-number"> 1 </span>   6<br>[2,]   <span class="hljs-number"> 2 </span>   7<br>[3,]   <span class="hljs-number"> 3 </span>   8<br>[4,]   <span class="hljs-number"> 4 </span>   9<br>[5,]   <span class="hljs-number"> 5 </span>  10<br><br>, , 2<br><br>     [,1] [,2]<br>[1,]  <span class="hljs-number"> 11 </span>  16<br>[2,]  <span class="hljs-number"> 12 </span>  17<br>[3,]  <span class="hljs-number"> 13 </span>  18<br>[4,]  <span class="hljs-number"> 14 </span>  19<br>[5,]  <span class="hljs-number"> 15 </span>  20<br><br><br></code></pre></div></td></tr></table></figure>
<h2 id="缺省数据过滤"><a href="#缺省数据过滤" class="headerlink" title="缺省数据过滤"></a>缺省数据过滤</h2><h3 id="1、单个数据的缺省值过滤"><a href="#1、单个数据的缺省值过滤" class="headerlink" title="1、单个数据的缺省值过滤"></a>1、单个数据的缺省值过滤</h3><figure class="highlight r"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs r">&gt; (x=<span class="hljs-built_in">c</span>(<span class="hljs-number">1</span>,<span class="hljs-literal">NA</span>,<span class="hljs-number">2</span>,<span class="hljs-literal">NA</span>,<span class="hljs-number">3</span>))<br>[<span class="hljs-number">1</span>]  <span class="hljs-number">1</span> <span class="hljs-literal">NA</span>  <span class="hljs-number">2</span> <span class="hljs-literal">NA</span>  <span class="hljs-number">3</span><br>&gt; x[!<span class="hljs-built_in">is.na</span>(x)]<br>[<span class="hljs-number">1</span>] <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span><br><br></code></pre></div></td></tr></table></figure>
<h3 id="2、过滤出多个数据中相同位置都不是缺省值的对应数据使用complete-cases-函数"><a href="#2、过滤出多个数据中相同位置都不是缺省值的对应数据使用complete-cases-函数" class="headerlink" title="2、过滤出多个数据中相同位置都不是缺省值的对应数据使用complete.cases()函数"></a>2、过滤出多个数据中相同位置都不是缺省值的对应数据使用complete.cases()函数</h3><figure class="highlight tap"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs tap">&gt; (x=c(1,6,2,NA,3))<br>[1] <span class="hljs-number"> 1 </span><span class="hljs-number"> 6 </span><span class="hljs-number"> 2 </span>NA  3<br>&gt; (y=c(&quot;a&quot;,&quot;b&quot;,NA,&quot;c&quot;,NA))<br>[1] &quot;a&quot; &quot;b&quot; NA  &quot;c&quot; NA <br>&gt; (t=c(&#x27;2&#x27;,6,&#x27;8&#x27;,&#x27;9&#x27;,&#x27;10&#x27;))<br>[1] &quot;2&quot;  &quot;6&quot;  &quot;8&quot;  &quot;9&quot;  &quot;10&quot;<br>&gt; (z=complete.cases(x,y,t)) <br>[1]  TRUE  TRUE FALSE FALSE FALSE<br>&gt; x[z]<br>[1]<span class="hljs-number"> 1 </span>6<br>&gt; y[z]<br>[1] &quot;a&quot; &quot;b&quot;<br>&gt; t[z]<br>[1] &quot;2&quot; &quot;6&quot;<br><br>&gt; library(datasets)  <span class="hljs-comment">#导入datasets数据集</span><br>&gt; head(airquality)  <span class="hljs-comment">#查看datasets中airquality数据开头</span><br>  Ozone Solar.R Wind Temp Month Day<br>1   <span class="hljs-number"> 41 </span>   <span class="hljs-number"> 190 </span> 7.4  <span class="hljs-number"> 67 </span>   <span class="hljs-number"> 5 </span>  1<br>2   <span class="hljs-number"> 36 </span>   <span class="hljs-number"> 118 </span> 8.0  <span class="hljs-number"> 72 </span>   <span class="hljs-number"> 5 </span>  2<br>3   <span class="hljs-number"> 12 </span>   <span class="hljs-number"> 149 </span>12.6  <span class="hljs-number"> 74 </span>   <span class="hljs-number"> 5 </span>  3<br>4   <span class="hljs-number"> 18 </span>   <span class="hljs-number"> 313 </span>11.5  <span class="hljs-number"> 62 </span>   <span class="hljs-number"> 5 </span>  4<br>5    NA      NA 14.3  <span class="hljs-number"> 56 </span>   <span class="hljs-number"> 5 </span>  5<br>6   <span class="hljs-number"> 28 </span>     NA 14.9  <span class="hljs-number"> 66 </span>   <span class="hljs-number"> 5 </span>  6<br><span class="hljs-comment">#由输出可见第5、6号记录分别在第一个域和第一、二个域上是有缺省值的。</span><br><br>&gt; g=complete.cases(airquality)<br>&gt; airquality[g,][1:10,] <span class="hljs-comment">#选择airquqlity中没有缺省值的那些记录，保留所有的域。查看1到10行，列全选。</span><br>   Ozone Solar.R Wind Temp Month Day<br>1    <span class="hljs-number"> 41 </span>   <span class="hljs-number"> 190 </span> 7.4  <span class="hljs-number"> 67 </span>   <span class="hljs-number"> 5 </span>  1<br>2    <span class="hljs-number"> 36 </span>   <span class="hljs-number"> 118 </span> 8.0  <span class="hljs-number"> 72 </span>   <span class="hljs-number"> 5 </span>  2<br>3    <span class="hljs-number"> 12 </span>   <span class="hljs-number"> 149 </span>12.6  <span class="hljs-number"> 74 </span>   <span class="hljs-number"> 5 </span>  3<br>4    <span class="hljs-number"> 18 </span>   <span class="hljs-number"> 313 </span>11.5  <span class="hljs-number"> 62 </span>   <span class="hljs-number"> 5 </span>  4<br>7    <span class="hljs-number"> 23 </span>   <span class="hljs-number"> 299 </span> 8.6  <span class="hljs-number"> 65 </span>   <span class="hljs-number"> 5 </span>  7<br>8    <span class="hljs-number"> 19 </span>    <span class="hljs-number"> 99 </span>13.8  <span class="hljs-number"> 59 </span>   <span class="hljs-number"> 5 </span>  8<br>9     <span class="hljs-number"> 8 </span>    <span class="hljs-number"> 19 </span>20.1  <span class="hljs-number"> 61 </span>   <span class="hljs-number"> 5 </span>  9<br>12   <span class="hljs-number"> 16 </span>   <span class="hljs-number"> 256 </span> 9.7  <span class="hljs-number"> 69 </span>   <span class="hljs-number"> 5 </span> 12<br>13   <span class="hljs-number"> 11 </span>   <span class="hljs-number"> 290 </span> 9.2  <span class="hljs-number"> 66 </span>   <span class="hljs-number"> 5 </span> 13<br>14   <span class="hljs-number"> 14 </span>   <span class="hljs-number"> 274 </span>10.9  <span class="hljs-number"> 68 </span>   <span class="hljs-number"> 5 </span> 14<br><span class="hljs-comment">#由输出可见，第5、6、10、11行是有缺省值的被过滤了</span><br></code></pre></div></td></tr></table></figure>
            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/">统计学</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/R%E8%AF%AD%E8%A8%80/">R语言</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2016/05/21/%E6%A6%82%E7%8E%87%E8%AE%BA%E5%92%8C%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1%E7%9A%84%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">概率论和数理统计的相关概念</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2016/05/14/R%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0%E4%B9%8B%E8%AF%AD%E6%B3%95%E7%AF%87/">
                        <span class="hidden-mobile">R语言笔记之语法篇</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_config = function() {
        this.page.url = 'http://example.com/2016/05/14/R%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0%E4%B9%8B%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/';
        this.page.identifier = '/2016/05/14/R%E8%AF%AD%E8%A8%80%E7%AC%94%E8%AE%B0%E4%B9%8B%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/';
      };
      Fluid.utils.waitElementVisible('disqus_thread', function () {
        var d = document, s = d.createElement('script');
        s.src = '//' + 'codesisart' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', new Date());
        (d.head || d.body).appendChild(s);
      });
    </script>
    <noscript>Please enable JavaScript to view the
      <a target="_blank" href="https://disqus.com/?ref_noscript" rel="nofollow noopener noopener">comments powered by Disqus.</a>
    </noscript>
  </div>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>









  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8.8.3/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>







<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



</body>
</html>
