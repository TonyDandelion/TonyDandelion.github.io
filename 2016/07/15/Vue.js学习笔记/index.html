

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&quot;dark&quot;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="知无者">
  <meta name="keywords" content="">
  <title>Vue.js学习笔记 - 代码即艺术</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/monokai.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.8.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"onlypost":false},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.3.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>代码即艺术</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/introduction/">
                <i class="iconfont icon-map"></i>
                入门
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/404page.html">
                <i class="iconfont icon-heartbeat"></i>
                公益404
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Vue.js学习笔记">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2016-07-15 01:15" pubdate>
        2016年7月15日 凌晨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      10.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      147
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Vue.js学习笔记</h1>
            
            <div class="markdown-body">
              <p>Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式JavaScript框架。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，方便与第三方库或既有项目整合。</p>
<a id="more"></a>
<h1 id="绑定一个元素">绑定一个元素</h1>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-comment">&lt;!-- 如果new Vue不写在$(document).ready(function() &#123;&#125;里面的话，就必须写在最后面，这样才能保证页面元素是先于js加载的。 --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">$(document).ready(function() &#123;</span><br><span class="xml">    new Vue(&#123;</span><br><span class="xml">        el: &#x27;#app&#x27;,</span><br><span class="xml">        data: &#123;</span><br><span class="xml">            message: &#x27;Hello Vue.js!&#x27;</span><br><span class="xml">        &#125;</span><br><span class="xml">    &#125;)</span><br><span class="xml">&#125;);</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">  </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">message</span> &#125;&#125;</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br></code></pre></div></td></tr></table></figure>
<h1 id="双向绑定">双向绑定</h1>
<blockquote>
<p><strong>v-model绑定input</strong></p>
</blockquote>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-comment">&lt;!-- 同时绑定message和v-modle=&quot;messsage&quot;的两个元素，名为双向绑定。 --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">$(document).ready(function() &#123;</span><br><span class="xml">    new Vue(&#123;</span><br><span class="xml">        el: &#x27;#app&#x27;,</span><br><span class="xml">        data: &#123;</span><br><span class="xml">            message: &#x27;Hello Vue.js!&#x27;</span><br><span class="xml">        &#125;</span><br><span class="xml">    &#125;)</span><br><span class="xml">&#125;);</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- 因为是在Django的模板中调试，Django和Vue的</span></span><span class="hljs-template-variable">&#123;&#123;info&#125;&#125;</span><span class="xml"><span class="hljs-comment">都是关键字，所以使用</span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"><span class="hljs-comment"> info </span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-comment"> 来包裹信息。这样的话被，经过渲染之后，</span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"><span class="hljs-comment"> info </span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-comment">就变成了</span></span><span class="hljs-template-variable">&#123;&#123;info&#125;&#125;</span><span class="xml"><span class="hljs-comment"> --&gt;</span></span><br><span class="xml">    </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml">message</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<h1 id="渲染列表">渲染列表</h1>
<blockquote>
<p><strong>v-for绑定列表</strong></p>
</blockquote>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;todo in todos&quot;</span>&gt;</span></span><br><span class="xml">                </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> todo.text </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- js中data的todos和li标签中v-for的in todos同一个名称，另外在</span></span><span class="hljs-template-variable">&#123;&#123;&#125;&#125;</span><span class="xml"><span class="hljs-comment">中必须todo.txt,才能渲染到， --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">	new Vue(&#123;</span><br><span class="xml">	  el: &#x27;#app&#x27;,</span><br><span class="xml">	  data: &#123;</span><br><span class="xml">	    todos: [</span><br><span class="xml">	      &#123; text: &#x27;Learn JavaScript&#x27; &#125;,</span><br><span class="xml">	      &#123; text: &#x27;Learn Vue.js&#x27; &#125;,</span><br><span class="xml">	      &#123; text: &#x27;Build Something Awesome&#x27; &#125;</span><br><span class="xml">	    ]</span><br><span class="xml">	  &#125;</span><br><span class="xml">	&#125;)		</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<h1 id="处理用户输入">处理用户输入</h1>
<blockquote>
<p><strong>v-on绑定点击事件</strong></p>
</blockquote>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">	$(document).click(function ()&#123;</span><br><span class="xml">		new Vue(&#123;</span><br><span class="xml">			el: &#x27;#app&#x27;,</span><br><span class="xml">			data:&#123;</span><br><span class="xml">				message:&#x27;Hello Vue.js!&#x27;</span><br><span class="xml">			&#125;,</span><br><span class="xml">			//在Vue里面方法必须写在methods里面，格式是functionname:function()&#123;&#125;</span><br><span class="xml">			methods:&#123;</span><br><span class="xml">				reverseMessage:function()&#123;</span><br><span class="xml">					this.message = this.message.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;)</span><br><span class="xml">				&#125;</span><br><span class="xml">			&#125;</span><br><span class="xml">		&#125;)</span><br><span class="xml">	&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> message </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br><span class="xml">	<span class="hljs-comment">&lt;!-- 绑定button使用v-on，格式是v-on:触发事件名=&quot;方法名&quot; --&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;reverseMessage&quot;</span>&gt;</span>Reverse Message<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<h1 id="综合">综合</h1>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">	$(document).click(function ()&#123;</span><br><span class="xml">		new Vue(&#123;</span><br><span class="xml">			el: &#x27;#app&#x27;,</span><br><span class="xml">			data:&#123;</span><br><span class="xml">				newTodo:&#x27;&#x27;,</span><br><span class="xml">				todos:[</span><br><span class="xml">					&#123;text:&#x27;Add some todos&#x27;&#125;</span><br><span class="xml">				]</span><br><span class="xml">			&#125;,</span><br><span class="xml">			methods:&#123;</span><br><span class="xml">				addTodo:function()&#123;</span><br><span class="xml">					var text = this.newTodo.trim()</span><br><span class="xml">					if(text)&#123;</span><br><span class="xml">						this.todos.push(&#123;text:text&#125;)</span><br><span class="xml">						this.newTodo = &#x27;&#x27;</span><br><span class="xml">					&#125;</span><br><span class="xml">				&#125;,</span><br><span class="xml">				removeTodo:function(index)&#123;</span><br><span class="xml">					console.log(index)</span><br><span class="xml">					//splice() 方法向/从数组中添加/删除项目，然后返回被删除的项目。</span><br><span class="xml">					this.todos.splice(index, 1)</span><br><span class="xml">				&#125;</span><br><span class="xml">			&#125;</span><br><span class="xml">		&#125;)</span><br><span class="xml">	&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-comment">&lt;!-- 在input里面敲回车键就触发了addTodo方法，添加了新的li标签 --&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;newTodo&quot;</span> <span class="hljs-attr">v-on:keyup.enter</span>=<span class="hljs-string">&quot;addTodo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">		<span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;todo in todos&quot;</span>&gt;</span></span><br><span class="xml">			<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> todo.text </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml">			<span class="hljs-comment">&lt;!-- 点击button就触发了removeTodo方法 --&gt;</span></span><br><span class="xml">			<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;removeTodo($index)&quot;</span>&gt;</span>x<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="xml">		<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<h1 id="相应数据的绑定">相应数据的绑定</h1>
<blockquote>
<p><strong>Vue.js 也提供一个强大的过渡效果系统，可以在 Vue 插入/删除元素时自动应用过渡效果。</strong></p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;example-2&quot;</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- v-if,当greeting为true的时候，hello才显示--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;greeting&quot;</span>&gt;</span>Hello!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript"><span class="hljs-keyword">var</span> exampleVM2 = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">  el: <span class="hljs-string">&#x27;#example-2&#x27;</span>,</span><br>  data: &#123;<br><span class="javascript">    greeting: <span class="hljs-literal">true</span></span><br>  &#125;<br>&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p><strong>v-bind 指令用于绑定 HTML 特性</strong></p>
<h1 id="组件系统">组件系统</h1>
<p><strong>组件系统是 Vue.js 另一个重要概念，因为它提供了一种抽象，让我们可以用独立可复用的小组件来构建大型应用。如果我们考虑到这点，几乎任意类型的应用的界面都可以抽象为一个组件树。</strong></p>
<h2 id="构造器">构造器</h2>
<p><strong>每个 Vue.js 应用的起步都是通过构造函数 Vue 创建一个 Vue 的根实例。</strong> <strong>一个 Vue 实例其实正是一个 MVVM 模式中所描述的 ViewModel - 因此在文档中经常会使用 vm 这个变量名。</strong><br />
<strong>在实例化 Vue 时，需要传入一个选项对象，它可以包含数据、模板、挂载元素、方法、生命周期钩子等选项。全部的选项可以在 API 文档中查看。</strong><br />
<strong>可以扩展 Vue 构造器，从而用预定义选项创建可复用的组件构造器</strong></p>
<figure class="highlight haxe"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haxe"><span class="hljs-keyword">var</span> MyComponent = Vue.extend(&#123;<br>  <span class="hljs-comment">// 扩展选项</span><br>&#125;)<br><br><span class="hljs-comment">// 所有的 `MyComponent` 实例都将以预定义的扩展选项被创建</span><br><span class="hljs-keyword">var</span> myComponentInstance = <span class="hljs-keyword">new</span> <span class="hljs-type">MyComponent</span>()<br></code></pre></div></td></tr></table></figure>
<p><strong>每个 Vue 实例都会代理其 data 对象里所有的属性，只有这些被代理的属性是响应的。</strong></p>
<figure class="highlight lasso"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs lasso"><span class="hljs-built_in">var</span> <span class="hljs-built_in">data</span> = &#123; a: <span class="hljs-number">1</span> &#125;<br><span class="hljs-built_in">var</span> vm = <span class="hljs-literal">new</span> Vue(&#123;<br>  <span class="hljs-built_in">data</span>: <span class="hljs-built_in">data</span><br>&#125;)<br><br>vm.a === <span class="hljs-built_in">data</span>.a <span class="hljs-comment">// -&gt; true</span><br><br><span class="hljs-comment">// 设置属性也会影响到原始数据</span><br>vm.a = <span class="hljs-number">2</span><br><span class="hljs-built_in">data</span>.a <span class="hljs-comment">// -&gt; 2</span><br><br><span class="hljs-comment">// ... 反之亦然</span><br><span class="hljs-built_in">data</span>.a = <span class="hljs-number">3</span><br>vm.a <span class="hljs-comment">// -&gt; 3</span><br></code></pre></div></td></tr></table></figure>
<p><strong>每个Vue实例都有它的方法（methods）和数据（date），和绑定的元素对象（el）</strong></p>
<h1 id="实例的生命周期">实例的生命周期</h1>
<p><strong>Vue 实例在创建时有一系列初始化步骤——例如，它需要建立数据观察，编译模板，创建必要的数据绑定。在此过程中，它也将调用一些生命周期钩子，给自定义逻辑提供运行机会。例如 created 钩子在实例创建后调用：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;<br>  data: &#123;<br>    a: <span class="hljs-number">1</span><br>  &#125;,<br>  created: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>    <span class="hljs-comment">// `this` 指向 vm 实例</span><br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;a is: &#x27;</span> + <span class="hljs-built_in">this</span>.a)<br>  &#125;<br>&#125;)<br><span class="hljs-comment">// -&gt; &quot;a is: 1&quot;</span><br></code></pre></div></td></tr></table></figure>
<p><strong>也有一些其它的钩子，在实例生命周期的不同阶段调用，如 compiled、 ready 、destroyed。钩子的 this 指向调用它的 Vue 实例。一些用户可能会问 Vue.js 是否有“控制器”的概念？答案是，没有。组件的自定义逻辑可以分割在这些钩子中。</strong></p>
<h1 id="数据绑定语法">数据绑定语法</h1>
<p><strong>Vue.js 的模板是基于 DOM 实现的。这意味着所有的 Vue.js 模板都是可解析的有效的 HTML，且通过一些特殊的特性做了增强。Vue 模板因而从根本上不同于基于字符串的模板，请记住这点。</strong></p>
<h2 id="插入数据值">插入数据值</h2>
<p><strong>数据绑定最基础的形式是文本插值，使用 “Mustache” 语法（双大括号）：</strong></p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Message: </span><span class="hljs-template-variable">&#123;&#123; msg &#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- 在django中双大括号是模板的渲染语法，所以要用另一种方法实现双大括号语法。 --&gt;</span></span><br><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> msg </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><br></code></pre></div></td></tr></table></figure>
<p><strong>插入HTML</strong></p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;&#123; <span class="hljs-name">raw_html</span> &#125;&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p><strong>插入到HTML值的属性值里 </strong></p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;item-</span></span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">id</span> &#125;&#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<h2 id="绑定表达式">绑定表达式</h2>
<p><strong>JavaScript 表达式</strong> 可以直接插入加减乘除、三元运算、以及javascript的函数</p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">number</span> + <span class="hljs-number">1</span> &#125;&#125;</span><br><br><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">ok</span> ? <span class="hljs-string">&#x27;YES&#x27;</span> : <span class="hljs-string">&#x27;NO&#x27;</span> &#125;&#125;</span><br><br><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">message.split</span>(<span class="hljs-name">&#x27;&#x27;</span>).reverse().join(<span class="hljs-name">&#x27;&#x27;</span>) &#125;&#125;</span><br><br><span class="xml"><span class="hljs-comment">&lt;!-- 一个限制是每个绑定只能包含单个表达式  --&gt;</span></span><br><span class="xml"><span class="hljs-comment">&lt;!-- 这是一个语句，不是一个表达式： --&gt;</span></span><br><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">var</span> a = <span class="hljs-number">1</span> &#125;&#125;</span><br><br><span class="xml"><span class="hljs-comment">&lt;!-- 流程控制也不可以，可改用三元表达式 --&gt;</span></span><br><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name"><span class="hljs-builtin-name">if</span></span> (<span class="hljs-name">ok</span>) &#123; return message &#125; &#125;&#125;</span><br></code></pre></div></td></tr></table></figure>
<p><strong>过滤器（与javascript表达式相互结合，过滤器只能跟在js表达式后面）</strong><br />
<strong>Vue.js 允许在表达式后添加可选的“过滤器 (Filter) ”，以“管道符”指示：</strong></p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">message</span> | capitalize &#125;&#125;</span><br></code></pre></div></td></tr></table></figure>
<p>这里我们将表达式 message 的值“管输（pipe）”到内置的 capitalize 过滤器，这个过滤器其实只是一个 JavaScript 函数，返回大写化的值。Vue.js 提供数个内置过滤器。</p>
<p><strong>过滤器可以串联：</strong> <figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">message</span> | filterA | filterB &#125;&#125;</span><br></code></pre></div></td></tr></table></figure> <strong>过滤器也可以接受参数：</strong></p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">message</span> | filterA <span class="hljs-string">&#x27;arg1&#x27;</span> arg2 &#125;&#125;</span><br></code></pre></div></td></tr></table></figure>
<p><strong>过滤器函数始终以表达式的值作为第一个参数。</strong>带引号的参数视为字符串，而不带引号的参数按表达式计算。这里，字符串 'arg1' 将传给过滤器作为第二个参数，表达式 arg2 的值在计算出来之后作为第三个参数。</p>
<h2 id="指令">指令</h2>
<blockquote>
<p><strong>参数</strong></p>
</blockquote>
<p>有些指令可以在其名称后面带一个“参数” (Argument)，中间放一个冒号隔开。例如，<strong>v-bind 指令用于响应地更新 HTML 特性</strong>：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>用特性插值 href="" 获得同样的结果：这样没错，并且实际上在<strong>内部特性插值会转为 v-bind 绑定</strong>。</p>
<p>另一个例子是 <strong>v-on 指令，它用于监听 DOM 事件：</strong></p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs livecodeserver">&lt;<span class="hljs-keyword">a</span> v-<span class="hljs-keyword">on</span>:<span class="hljs-title">click</span>=<span class="hljs-string">&quot;doSomething&quot;</span>&gt;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>修饰器</strong></p>
</blockquote>
<p><strong>修饰符 (Modifiers) 是以半角句号 . 开始的特殊后缀</strong>，用于表示指令应当以特殊方式绑定。例如 .literal 修饰符告诉指令将它的值解析为一个字面字符串而不是一个表达式：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href.literal</span>=<span class="hljs-string">&quot;/a/b/c&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>缩写</strong></p>
</blockquote>
<p>针对常用v-bind和v-on是有一些缩写的</p>
<p>v-bind</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 完整语法 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-bind:href</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 缩写 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">:href</span>=<span class="hljs-string">&quot;url&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 完整语法 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-bind:disabled</span>=<span class="hljs-string">&quot;someDynamicCondition&quot;</span>&gt;</span>Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 缩写 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">:disabled</span>=<span class="hljs-string">&quot;someDynamicCondition&quot;</span>&gt;</span>Button<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>v-on <figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;doSomething&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;doSomething&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></div></td></tr></table></figure> # 计算属性</p>
<p>在模板中绑定表达式是非常便利的，但是它们实际上只用于简单的操作。模板是为了描述视图的结构。在模板中放入太多的逻辑会让模板过重且难以维护。这就是为什么 Vue.js 将绑定表达式限制为一个表达式。如果需要多于一个表达式的逻辑，应当使用计算属性。</p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&#x27;exmple&#x27;</span>&gt;</span></span><br><span class="xml">	a = </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> a </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml">,b = </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> b </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">	var vm = new Vue(&#123;</span><br><span class="xml">		el:&#x27;#exmple&#x27;,</span><br><span class="xml">		data:&#123;</span><br><span class="xml">			a:1  //a的属性值</span><br><span class="xml">		&#125;,</span><br><span class="xml">		computed:&#123; //这个computed是随便起的名字吗？</span><br><span class="xml">			//一个计算属性的getter，这里我们声明了一个计算属性 b。我们提供的函数将用作属性 vm.b的 getter。</span><br><span class="xml">			b:function()&#123;</span><br><span class="xml">				return this.a + 1</span><br><span class="xml">			&#125;</span><br><span class="xml">		&#125;</span><br><span class="xml">	&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p><strong>vm.b 依赖于 vm.a，因此当 vm.a 发生改变时，依赖于 vm.b 的绑定也会更新。</strong></p>
<p><strong><code>$watch</code></strong></p>
<p>Vue.js 提供了一个方法 $watch，它用于观察 Vue 实例上的数据变动。当一些数据需要根据其它数据变化时， <span class="math inline">\(watch 很诱人 —— 特别是如果你来自 AngularJS。**不过，通常更好的办法是使用计算属性而不是一个命令式的 `\)</span>watch` 回调。**</p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">fullName</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">	var vm = new Vue(&#123;</span><br><span class="xml">	    el: &#x27;#demo&#x27;,</span><br><span class="xml">	    data: &#123;</span><br><span class="xml">	        firstName: &#x27;Foo&#x27;,</span><br><span class="xml">	        lastName: &#x27;Bar&#x27;,</span><br><span class="xml">	        fullName: &#x27;Foo Bar&#x27;</span><br><span class="xml">	    &#125;</span><br><span class="xml">	&#125;)</span><br><br><span class="xml">	vm.$watch(&#x27;firstName&#x27;, function(val) &#123;</span><br><span class="xml">	    this.fullName = val + &#x27; &#x27; + this.lastName</span><br><span class="xml">	&#125;)</span><br><br><span class="xml">	vm.$watch(&#x27;lastName&#x27;, function(val) &#123;</span><br><span class="xml">	    this.fullName = this.firstName + &#x27; &#x27; + val</span><br><span class="xml">	&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p><strong>上面代码是命令式的重复的。跟计算属性对比</strong> <figure class="highlight kotlin"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs kotlin"><span class="hljs-keyword">var</span> vm = new Vue(&#123;<br>  <span class="hljs-keyword">data</span>: &#123;<br>    firstName: <span class="hljs-string">&#x27;Foo&#x27;</span>,<br>    lastName: <span class="hljs-string">&#x27;Bar&#x27;</span><br>  &#125;,<br>  computed: &#123;<br>    fullName: function () &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName + <span class="hljs-string">&#x27; &#x27;</span> + <span class="hljs-keyword">this</span>.lastName<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure> &gt; <strong>计算属性默认只是 getter，不过在需要时你也可以提供一个 setter：</strong></p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">    </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> fullName </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">	var vm = new Vue(&#123;</span><br><span class="xml">		el:&#x27;#demo&#x27;,</span><br><span class="xml">		data: &#123;</span><br><span class="xml">		  firstName: &#x27;Foo&#x27;,</span><br><span class="xml">		  lastName: &#x27;Bar&#x27;</span><br><span class="xml">		&#125;,</span><br><span class="xml">		computed: &#123;</span><br><span class="xml">		  fullName: &#123;</span><br><span class="xml">		    // getter</span><br><span class="xml">		    get: function () &#123;</span><br><span class="xml">		      return this.firstName + &#x27; &#x27; + this.lastName</span><br><span class="xml">		    &#125;,</span><br><span class="xml">		    // setter</span><br><span class="xml">		    set: function (newValue) &#123;</span><br><span class="xml">		      var names = newValue.split(&#x27; &#x27;)</span><br><span class="xml">		      this.firstName = names[0]</span><br><span class="xml">		      this.lastName = names[names.length - 1]</span><br><span class="xml">		    &#125;</span><br><span class="xml">		  &#125;</span><br><span class="xml">		&#125;</span><br><span class="xml">	&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p><strong>使用setter方法之后，就是firstName和lastName就会随着fullname动态变化了。</strong></p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus">vm<span class="hljs-selector-class">.fullName</span> = <span class="hljs-string">&#x27;Tony Dandelion&#x27;</span><br><span class="hljs-string">&quot;Tony Dandelion&quot;</span><br>vm.firstName<br><span class="hljs-string">&quot;Tony&quot;</span><br>vm.lastName<br><span class="hljs-string">&quot;Dandelion&quot;</span><br></code></pre></div></td></tr></table></figure>
<h1 id="绑定class和css">绑定Class和CSS</h1>
<h2 id="绑定html-class">绑定HTML class</h2>
<p>尽管可以用 Mustache 标签绑定 class，比如 class=""，但是我们不推荐这种写法和 v-bind:class 混用。两者只能选其一！</p>
<blockquote>
<p><strong>面向对象的绑定</strong></p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;static&quot;</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">&quot;&#123; &#x27;class-a&#x27;: isA, &#x27;class-b&#x27;: isB &#125;&quot;</span> <span class="hljs-attr">qq</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">	<span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">		el:<span class="hljs-string">&#x27;#demo&#x27;</span>,</span><br>		data: &#123;<br><span class="javascript">			isA: <span class="hljs-literal">true</span>,</span><br><span class="javascript">			isB: <span class="hljs-literal">false</span></span><br>		&#125;<br>	&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-comment">&lt;!-- 最终效果是&lt;div class=&quot;static class-a&quot;&gt;&lt;/div&gt; --&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>你也可以直接绑定数据里的一个对象：</p>
<figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> v-bind:<span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;classObject&quot;</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;<br><br>data: &#123;<br>  classObject: &#123;<br>    &#x27;<span class="hljs-built_in">class</span>-a&#x27;: <span class="hljs-literal">true</span>,<br>    &#x27;<span class="hljs-built_in">class</span>-b&#x27;: <span class="hljs-literal">false</span><br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>数组绑定</strong></p>
</blockquote>
<p>我们可以把一个数组传给 v-bind:class，以应用一个 class 列表：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">&lt;div v-bind:<span class="hljs-keyword">class</span>=&quot;[<span class="hljs-symbol">classA, <span class="hljs-symbol">classB</span></span>]&quot;&gt;<br><span class="hljs-symbol">data: </span>&#123;<br>  classA: <span class="hljs-string">&#x27;class-a&#x27;</span>,<br>  classB: <span class="hljs-string">&#x27;class-b&#x27;</span><br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>渲染为：</p>
<figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;class-a class-b&quot;</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></div></td></tr></table></figure>
<p>如果你也想根据条件切换列表中的 class，可以用三元表</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">&lt;div v-bind:<span class="hljs-keyword">class</span>=&quot;[<span class="hljs-symbol">classA, <span class="hljs-symbol">isB</span></span> ? <span class="hljs-symbol">classB</span> : &#x27;&#x27;]&quot;&gt;<br></code></pre></div></td></tr></table></figure>
<p>终添加 classA，但是只有在 isB 是 true 时添加 classB 。</p>
<p>不过，当有多个条件 class 时这样写有些繁琐。在 1.0.19+ 中，可以在数组语法中使用对象语法：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs angelscript">&lt;div v-bind:<span class="hljs-keyword">class</span>=&quot;[<span class="hljs-symbol">classA, </span>&#123; classB: isB, classC: isC &#125;]<span class="hljs-string">&quot;&gt;</span><br></code></pre></div></td></tr></table></figure>
<h2 id="绑定内联样式css">绑定内联样式CSS</h2>
<blockquote>
<p><strong>面向对象绑定样式</strong></p>
</blockquote>
<p>v-bind:style 的对象语法十分直观——看着非常像 CSS，其实它是一个 JavaScript 对象。CSS 属性名可以用驼峰式（camelCase）或短横分隔命名（kebab-case）：</p>
<figure class="highlight dust"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs dust"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-bind:style</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">&#123; color: activeColor, fontSize: fontSize + &#x27;px&#x27; &#125;</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">data: </span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  activeColor: &#x27;red&#x27;,</span><br><span class="hljs-template-variable">  fontSize: 30</span><br><span class="hljs-template-variable">&#125;</span><br></code></pre></div></td></tr></table></figure>
<p><strong>直接绑定到一个样式对象通常更好</strong>，让模板更清晰：</p>
<figure class="highlight axapta"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs axapta">&lt;<span class="hljs-keyword">div</span> v-bind:style=<span class="hljs-string">&quot;styleObject&quot;</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;<br>data: &#123;<br>  styleObject: &#123;<br>    color: <span class="hljs-string">&#x27;red&#x27;</span>,<br>    fontSize: <span class="hljs-string">&#x27;13px&#x27;</span><br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>同样的，对象语法常常结合返回对象的计算属性使用。</p>
<blockquote>
<p><strong>数组语法</strong></p>
</blockquote>
<p>v-bind:style 的数组语法可以将多个样式对象应用到一个元素上：</p>
<figure class="highlight nim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs nim">&lt;<span class="hljs-keyword">div</span> v-<span class="hljs-keyword">bind</span>:style=<span class="hljs-string">&quot;[styleObjectA, styleObjectB]&quot;</span>&gt;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>自动添加前缀</strong></p>
</blockquote>
<p><strong>当 v-bind:style 使用需要厂商前缀的 CSS 属性时，如 transform，Vue.js 会自动侦测并添加相应的前缀。</strong></p>
<h1 id="条件渲染">条件渲染</h1>
<h2 id="if-else结构">if-else结构</h2>
<p>在 Vue.js，我们使用 v-if 指令实现同样的功能：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;ok&quot;</span>&gt;</span>Yes<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>也可以用 v-else 添加一个 “else” 块： <figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;ok&quot;</span>&gt;</span>Yes<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-else</span>&gt;</span>No<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br></code></pre></div></td></tr></table></figure> <figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;is&quot;</span>&gt;</span>Yes<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-else</span>&gt;</span>No<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">	<span class="hljs-keyword">var</span> boolea = <span class="hljs-literal">false</span></span><br><span class="javascript">	<span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">		el:<span class="hljs-string">&#x27;#demo&#x27;</span>,</span><br>		data: &#123;<br>			is: boolea,<br>		&#125;<br>	&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></div></td></tr></table></figure> ## 使用template标签</p>
<p>使用template标签包装多个元素，实现if-else的多元素切换。</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;is&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Yes<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span> you are right!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-else</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>No<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>you are wrong!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript"><span class="hljs-keyword">var</span> boolea = <span class="hljs-literal">true</span></span><br><span class="javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">    el: <span class="hljs-string">&#x27;#demo&#x27;</span>,</span><br>    data: &#123;<br>        is: boolea,<br>    &#125;<br>&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<h2 id="v-show指令实现依赖条件决定是否展示数据">v-show指令实现依赖条件决定是否展示数据</h2>
<p><strong>v-show是不支持template标签对多个元素进行包装的</strong> <strong>也可以使用v-else给v-show设置else块</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&#x27;is&#x27;</span>&gt;</span>Yes<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript"><span class="hljs-keyword">var</span> boolea = <span class="hljs-literal">false</span></span><br><span class="javascript"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">    el: <span class="hljs-string">&#x27;#demo&#x27;</span>,</span><br>    data: &#123;<br>        is: boolea,<br>    &#125;<br>&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<h2 id="组件警告">组件警告</h2>
<p>将 v-show 用在组件上时，因为指令的优先级 v-else 会出现问题。因此不要这样做：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">custom-component</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;condition&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">custom-component</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-else</span>&gt;</span>这可能也是一个组件<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>用另一个 v-show 替换 v-else：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">custom-component</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;condition&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">custom-component</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-show</span>=<span class="hljs-string">&quot;!condition&quot;</span>&gt;</span>这可能也是一个组件<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>这样就可以达到 v-if 的效果。</p>
<blockquote>
<p><strong>一下是警告内容</strong></p>
</blockquote>
<p><code>vue.js:1023 [Vue warn]: Unknown custom element: &lt;custom-component&gt; - did you register the component correctly? For recursive components, make sure to provide the "name" option.</code></p>
<p><strong>一般来说，v-if 有更高的切换消耗而 v-show 有更高的初始渲染消耗。因此，如果需要频繁切换 v-show 较好，如果在运行时条件不大可能改变 v-if 较好。</strong></p>
<p><strong>列表渲染(data不同数据名之间是用 , 相互间隔的)</strong></p>
<h2 id="v-for">v-for</h2>
<p><strong>可以使用 v-for 指令基于一个数组渲染一个列表。这个指令使用特殊的语法，形式为 item in items，items 是数据数组，item 是当前数组元素的别名：</strong></p>
<p>列表渲染使用的都是数组。在data中的申明格式是： <figure class="highlight css"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs css">数组名:[<br>	&#123;元素名<span class="hljs-number">1</span>:数据<span class="hljs-number">1</span>,元素名<span class="hljs-number">2</span>:数据<span class="hljs-number">5</span>,元素<span class="hljs-number">3</span>.....&#125;<br>	&#123;元素名<span class="hljs-number">1</span>:数据<span class="hljs-number">2</span>,元素名<span class="hljs-number">2</span>:数据<span class="hljs-number">6</span>,元素<span class="hljs-number">3</span>.....&#125;<br>	&#123;元素名<span class="hljs-number">1</span>:数据<span class="hljs-number">3</span>,元素名<span class="hljs-number">2</span>:数据<span class="hljs-number">7</span>,元素<span class="hljs-number">3</span>.....&#125;		<br>]<br><br>example：<br>items:[<br>	&#123;A:<span class="hljs-number">1</span>,b:<span class="hljs-number">6</span>,c:<span class="hljs-number">10</span>&#125;,<br>	&#123;<span class="hljs-selector-tag">A</span>:<span class="hljs-number">2</span>,b:<span class="hljs-number">7</span>,c:<span class="hljs-number">11</span>&#125;,<br>	&#123;<span class="hljs-selector-tag">A</span>:<span class="hljs-number">3</span>,b:<span class="hljs-number">8</span>,c:<span class="hljs-number">12</span>&#125;<br>]<br></code></pre></div></td></tr></table></figure> 使用方法</p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&#x27;当前数组元素的别名 in 数组名&#x27;</span>&gt;</span></span><br><span class="xml">	</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> 当前数组元素的别名.当前数组元素中具体要遍历的元素名 </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><br><span class="xml">example：</span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&#x27;item in items&#x27;</span>&gt;</span></span><br><span class="xml">	</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> item.b </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p><strong>在 v-for 块内我们能完全访问父组件作用域内的属性，另有一个特殊变量 $index，正如你猜到的，它是当前数组元素的索引：</strong></p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span>&gt;</span></span><br><span class="xml">		</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> parentMessage </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"> - </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> $index </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"> - </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> item.c </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">	new Vue(&#123;</span><br><span class="xml">		el:&#x27;#demo&#x27;,</span><br><span class="xml">		data: &#123;</span><br><span class="xml">			parentMessage:&#x27;Parent&#x27;,</span><br><span class="xml">			items:[</span><br><span class="xml">				&#123;A:1,b:6,c:10&#125;,</span><br><span class="xml">				&#123;A:2,b:7,c:11&#125;,</span><br><span class="xml">				&#123;A:3,b:8,c:12&#125;</span><br><span class="xml">			]</span><br><span class="xml">		&#125;</span><br><span class="xml">	&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-comment">&lt;!-- 数组下标从0开始 --&gt;</span></span><br><span class="xml">Parent - 0 - 10</span><br><span class="xml">Parent - 1 - 11</span><br><span class="xml">Parent - 2 - 12</span><br></code></pre></div></td></tr></table></figure>
<h2 id="template-v-for">template v-for</h2>
<p><strong>使用template标签，将多个数据包装成块。</strong></p>
<h2 id="数组变动检测">数组变动检测</h2>
<blockquote>
<p><strong>变异方法(修改原始数组，影响页面的渲染效果。)</strong></p>
</blockquote>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">push</span><span class="hljs-params">()</span></span>  #从最后开始添加<br><span class="hljs-function"><span class="hljs-title">pop</span><span class="hljs-params">()</span></span> #从后往前删除<br><span class="hljs-function"><span class="hljs-title">shift</span><span class="hljs-params">()</span></span>  #从前往后删除<br><span class="hljs-function"><span class="hljs-title">unshift</span><span class="hljs-params">()</span></span> <br><span class="hljs-function"><span class="hljs-title">splice</span><span class="hljs-params">()</span></span>  <span class="hljs-selector-id">#splice</span>() 方法用于插入、删除或替换数组的元素。<br><span class="hljs-function"><span class="hljs-title">sort</span><span class="hljs-params">()</span></span>  #排序<br><span class="hljs-function"><span class="hljs-title">reverse</span><span class="hljs-params">()</span></span> #逆序<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>替换数组（不修改原始数据）</strong></p>
</blockquote>
<p>变异方法，如名字所示，修改了原始数组。相比之下，也有非变异方法，如 filter(), concat() 和 slice()，不会修改原始数组而是返回一个新数组。在使用非变异方法时，可以直接用新数组替换旧数组：</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">slice</span><span class="hljs-params">()</span></span> #可提取字符串的某个部分,并以新的字符串返回被提取的部分<br><span class="hljs-function"><span class="hljs-title">filter</span><span class="hljs-params">()</span></span> #过滤<br><span class="hljs-function"><span class="hljs-title">concat</span><span class="hljs-params">()</span></span> #连接两个或多个数组<br>example1<span class="hljs-selector-class">.items</span> = example1<span class="hljs-selector-class">.items</span><span class="hljs-selector-class">.filter</span>(function (item) &#123;<br>  return item<span class="hljs-selector-class">.message</span><span class="hljs-selector-class">.match</span>(/Foo/)<br>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>可能你觉得这将导致 Vue.js 弃用已有 DOM 并重新渲染整个列表——幸运的是并非如此。 Vue.js 实现了一些启发算法，以最大化复用 DOM 元素，因而<strong>用另一个数组替换数组是一个非常高效的操作</strong>。</p>
<blockquote>
<p><strong>track-by</strong></p>
</blockquote>
<p>有时需要用全新对象（例如通过 API 调用创建的对象）替换数组。因为 <strong>v-for 默认通过数据对象的特征来决定对已有作用域和 DOM 元素的复用程度</strong>，这可能导致重新渲染整个列表。但是，<strong>如果每个对象都有一个唯一 ID 的属性，便可以使用 track-by 特性给 Vue.js 一个提示，Vue.js 因而能尽可能地复用已有实例</strong>。</p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span> <span class="hljs-attr">track-by</span>=<span class="hljs-string">&quot;_uid&quot;</span>&gt;</span></span><br><span class="xml">		</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> item._uid </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">var example1 = new Vue(&#123;</span><br><span class="xml">    el: &#x27;#demo&#x27;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">		items: [</span><br><span class="xml">		  &#123; _uid: &#x27;88f869d&#x27;&#125;,</span><br><span class="xml">		  &#123; _uid: &#x27;7496c10&#x27;&#125;</span><br><span class="xml">		]</span><br><span class="xml">	&#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">输出：</span><br><span class="xml">88f869d</span><br><span class="xml">7496c10</span><br></code></pre></div></td></tr></table></figure>
<p>**然后在替换数组 items 时，如果 Vue.js 遇到一个包含 _uid: '88f869d' 的新对象，它知道它可以复用这个已有对象的作用域与 DOM 元素。**</p>
<blockquote>
<p><strong>track-by $index</strong></p>
</blockquote>
<p>如果没有唯一的键供追踪，<strong>可以使用 track-by="$index"，它强制让 v-for 进入原位更新模式：片断不会被移动，而是简单地以对应索引的新值刷新。</strong>这种模式也能处理数据数组中重复的值。</p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ol</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span> <span class="hljs-attr">track-by</span>=<span class="hljs-string">&quot;$index&quot;</span>&gt;</span></span><br><span class="xml">		</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> item.messge </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">var example1 = new Vue(&#123;</span><br><span class="xml">    el: &#x27;#demo&#x27;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">		items: [</span><br><span class="xml">		  &#123; messge:&#x27;Tom&#x27;&#125;,</span><br><span class="xml">		  &#123; messge:&#x27;Jack&#x27;&#125;</span><br><span class="xml">		]</span><br><span class="xml">	&#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p>这让数据替换非常高效，但是也会付出一定的代价。<strong>因为这时 DOM 节点不再映射数组元素顺序的改变，不能同步临时状态（比如 <code>&lt;input&gt;</code> 元素的值）以及组件的私有状态。因此，如果 v-for 块包含 <code>&lt;input&gt;</code> 元素或子组件，要小心使用 <code>track-by="$index"</code> </strong></p>
<blockquote>
<p><strong>问题</strong></p>
</blockquote>
<p>因为 JavaScript 的限制，Vue.js 不能检测到下面数组变化：</p>
<ol type="1">
<li>直接用索引设置元素，如 vm.items[0] = {}；</li>
<li>修改数据的长度，如 vm.items.length = 0。</li>
</ol>
<p>为了解决问题 (1)，Vue.js 扩展了观察数组，为它添加了一个 $set() 方法：</p>
<figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">// 与 `example1.<span class="hljs-built_in">items</span>[<span class="hljs-number">0</span>] = ...` 相同，但是能触发视图更新<br>example1.<span class="hljs-built_in">items</span>.$<span class="hljs-keyword">set</span>(<span class="hljs-number">0</span>, &#123; childMs<span class="hljs-variable">g:</span> <span class="hljs-string">&#x27;Changed!&#x27;</span>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>至于问题 (2)，只需用一个空数组替换 items。</p>
<figure class="highlight ini"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs ini"><span class="hljs-attr">example1.items</span> = []<br></code></pre></div></td></tr></table></figure>
<p>除了 <code>$set()</code>， Vue.js 也为观察数组添加了 <code>$remove()</code> 方法，用于从目标数组中查找并删除元素，在内部它调用 <code>splice()</code> 。因此，不必这样：</p>
<figure class="highlight axapta"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs axapta"><span class="hljs-built_in">var</span> <span class="hljs-keyword">index</span> = <span class="hljs-keyword">this</span>.items.indexOf(item)<br><span class="hljs-keyword">if</span> (<span class="hljs-keyword">index</span> !== <span class="hljs-number">-1</span>) &#123;<br>  <span class="hljs-keyword">this</span>.items.splice(<span class="hljs-keyword">index</span>, <span class="hljs-number">1</span>)<br>&#125;<br></code></pre></div></td></tr></table></figure>
<p>只用这样：</p>
<figure class="highlight arduino"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs arduino"><span class="hljs-keyword">this</span>.items.$<span class="hljs-built_in">remove</span>(item)<br></code></pre></div></td></tr></table></figure>
<p>使用 Object.freeze()</p>
<p>在遍历一个数组时，如果数组元素是对象并且对象用 Object.freeze() 冻结，<strong>你需要明确指定 track-by</strong>。在这种情况下如果 Vue.js 不能自动追踪对象，将给出一条警告。</p>
<h2 id="v-for对象">v-for对象</h2>
<p>也可以使用 v-for 遍历对象。除了 $index 之外，<strong>作用域内还可以访问另外一个特殊变量 $key</strong>。</p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;repeat-object&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;value in object&quot;</span>&gt;</span></span><br><span class="xml">    </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">$key</span> &#125;&#125;</span><span class="xml"> : </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">value</span> &#125;&#125;</span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">  el: &#x27;#repeat-object&#x27;,</span><br><span class="xml">  data: &#123;</span><br><span class="xml">    object: &#123;</span><br><span class="xml">      FirstName: &#x27;John&#x27;,</span><br><span class="xml">      LastName: &#x27;Doe&#x27;,</span><br><span class="xml">      Age: 30</span><br><span class="xml">    &#125;</span><br><span class="xml">  &#125;</span><br><span class="xml">&#125;)</span><br></code></pre></div></td></tr></table></figure>
<h2 id="值域-v-for">值域 v-for</h2>
<p>v-for 也可以接收一个整数，此时它将重复模板数次。</p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;n in 10&quot;</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">n</span> &#125;&#125;</span><span class="xml"> <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml">结果：</span><br><span class="xml">0 1 2 3 4 5 6 7 8 9</span><br></code></pre></div></td></tr></table></figure>
<h2 id="显示过滤排序的结果">显示过滤/排序的结果</h2>
<p>有时我们想显示过滤/排序过的数组，同时不实际修改或重置原始数据。有两个办法：</p>
<ol type="1">
<li>创建一个计算属性，返回过滤/排序过的数组；</li>
<li>使用内置的过滤器 filterBy 和 orderBy。</li>
</ol>
<p>计算属性有更好的控制力，也更灵活，因为它是全功能 JavaScript。但是通常过滤器更方便，详细见 API。</p>
<h1 id="方法与事件处理器">方法与事件处理器</h1>
<h2 id="可以用-v-on-指令监听-dom-事件">可以用 v-on 指令监听 DOM 事件：</h2>
<figure class="highlight applescript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs applescript">&lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;example&quot;</span>&gt;<br>  &lt;button v-<span class="hljs-keyword">on</span>:click=<span class="hljs-string">&quot;greet&quot;</span>&gt;Greet&lt;/button&gt;<br>&lt;/<span class="hljs-keyword">div</span>&gt;<br></code></pre></div></td></tr></table></figure>
<p>我们绑定了一个单击事件处理器到一个方法 greet。下面在 Vue 实例中定义这个方法：</p>
<figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">var <span class="hljs-keyword">vm</span> = <span class="hljs-keyword">new</span> Vue(&#123;<br>  <span class="hljs-keyword">e</span><span class="hljs-variable">l:</span> <span class="hljs-string">&#x27;#example&#x27;</span>,<br>  dat<span class="hljs-variable">a:</span> &#123;<br>    name: <span class="hljs-string">&#x27;Vue.js&#x27;</span><br>  &#125;,<br>  // 在 `methods` 对象中定义方法<br>  method<span class="hljs-variable">s:</span> &#123;<br>    gree<span class="hljs-variable">t:</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(event)</span> &#123;</span><br>      // 方法内 `this` 指向 <span class="hljs-keyword">vm</span><br>      alert(<span class="hljs-string">&#x27;Hello &#x27;</span> + this.name + <span class="hljs-string">&#x27;!&#x27;</span>)<br>      // `event` 是原生 DOM 事件<br>      alert(event.target.tagName)<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure>
<h2 id="内联-javascript-语句可以传递参数">内联 JavaScript 语句，可以传递参数</h2>
<figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">&lt;div id=<span class="hljs-string">&quot;example-2&quot;</span>&gt;<br>  &lt;button v-<span class="hljs-keyword">on</span>:click=<span class="hljs-string">&quot;say(&#x27;hi&#x27;)&quot;</span>&gt;Say Hi&lt;/button&gt;<br>  &lt;button v-<span class="hljs-keyword">on</span>:click=<span class="hljs-string">&quot;say(&#x27;what&#x27;)&quot;</span>&gt;Say What&lt;/button&gt;<br>&lt;/div&gt;<br><span class="hljs-keyword">new</span> Vue(&#123;<br>  <span class="hljs-keyword">e</span><span class="hljs-variable">l:</span> <span class="hljs-string">&#x27;#example-2&#x27;</span>,<br>  method<span class="hljs-variable">s:</span> &#123;<br>    say: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(msg)</span> &#123;</span><br>      alert(msg)<br>    &#125;<br>  &#125;<br>&#125;)<br>Resul<span class="hljs-variable">t:</span><br>Say Hi  Say What<br></code></pre></div></td></tr></table></figure>
<p>类似于内联表达式，<strong>事件处理器限制为一个语句。</strong></p>
<p>有时也需要在内联语句处理器中访问原生 DOM 事件。<strong>可以用特殊变量 $event 把它传入方法：</strong></p>
<figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">&lt;button v-on:click=<span class="hljs-string">&quot;say(&#x27;hello!&#x27;, $event)&quot;</span>&gt;Submit&lt;/button&gt;<br><span class="hljs-regexp">//</span> ...<br>methods: &#123;<br>  say: <span class="hljs-keyword">function</span> (msg, event) &#123;<br>    <span class="hljs-regexp">//</span> 现在我们可以访问原生事件对象<br>    event.preventDefault()<br>  &#125;<br>&#125;<br></code></pre></div></td></tr></table></figure>
<h2 id="事件修饰符">事件修饰符</h2>
<p>在事件处理器中经常需要调用 event.preventDefault() 或 event.stopPropagation()。尽管我们在方法内可以轻松做到，不过让<strong>方法是纯粹的数据逻辑而不处理 DOM 事件细节会更好。</strong></p>
<p>为了解决这个问题，<strong>Vue.js 为 v-on 提供两个 事件修饰符：.prevent 与 .stop。</strong>你是否还记得修饰符是点号打头的指令后缀？</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 阻止单击事件冒泡 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-on:click.stop</span>=<span class="hljs-string">&quot;doThis&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 提交事件不再重载页面 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">v-on:submit.prevent</span>=<span class="hljs-string">&quot;onSubmit&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 修饰符可以串联 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">v-on:click.stop.prevent</span>=<span class="hljs-string">&quot;doThat&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 只有修饰符 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">v-on:submit.prevent</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br><br>1.0.16 添加了两个额外的修饰符：<br><br><span class="hljs-comment">&lt;!-- 添加事件侦听器时使用 capture 模式 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-on:click.capture</span>=<span class="hljs-string">&quot;doThis&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 只当事件在该元素本身（而不是子元素）触发时触发回调 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-on:click.self</span>=<span class="hljs-string">&quot;doThat&quot;</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<h2 id="按键修饰符">按键修饰符</h2>
<p>在监听键盘事件时，我们经常需要检测 keyCode。Vue.js 允许为 v-on 添加按键修饰符：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 只有在 keyCode 是 13 时调用 vm.submit() --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-on:keyup.13</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br>记住所有的 keyCode 比较困难，Vue.js 为最常用的按键提供别名：<br><br><span class="hljs-comment">&lt;!-- 同上 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-on:keyup.enter</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 缩写语法 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span><br>全部的按键别名：<br><br>enter<br>tab<br>delete<br>esc<br>space<br>up<br>down<br>left<br>right<br><br>1.0.8+： 支持单字母按键别名。<br>1.0.17+： 可以自定义按键别名：<br></code></pre></div></td></tr></table></figure>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-comment">// 可以使用 @keyup.f1</span><br>Vue<span class="hljs-selector-class">.directive</span>(<span class="hljs-string">&#x27;on&#x27;</span>)<span class="hljs-selector-class">.keyCodes</span><span class="hljs-selector-class">.f1</span> = <span class="hljs-number">112</span><br></code></pre></div></td></tr></table></figure>
<h2 id="为什么在-html-中监听事件">为什么在 HTML 中监听事件?</h2>
<p>你可能注意到这种事件监听的方式违背了传统理念 “separation of concern”。不必担心，因为所有的 Vue.js 事件处理方法和表达式都严格绑定在当前视图的 ViewModel 上，它不会导致任何维护困难。实际上，<strong>使用 v-on 有几个好处：</strong></p>
<ul>
<li>扫一眼 HTML 模板便能轻松定位在 JavaScript 代码里对应的方法。</li>
<li>因为你无须在 JavaScript 里手动绑定事件，你的 ViewModel 代码可以是非常纯粹的逻辑，和 DOM 完全解耦，更易于测试。</li>
<li>当一个 ViewModel 被销毁时，所有的事件处理器都会自动被删除。你无须担心如何自己清理它们。</li>
</ul>
<h1 id="表单控件绑定">表单控件绑定</h1>
<h2 id="基础用法">基础用法</h2>
<blockquote>
<p><strong>Text</strong></p>
</blockquote>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Message is: </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">message</span> &#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;message&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;edit me&quot;</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>checkbox</strong></p>
</blockquote>
<p><strong>单个勾选框，逻辑值：</strong></p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;checked&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span></span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> checked </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">var bool = true;</span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">    el: &quot;#demo&quot;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">        checked: bool</span><br><span class="xml">    &#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>Radio</strong></p>
</blockquote>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;One&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;picked&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&lt;two&gt;&lt;/two&gt;&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Two&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;picked&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Picked: </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> picked </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">var bool = true;</span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">    el: &quot;#demo&quot;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">        picked: &#x27;One&#x27;</span><br><span class="xml">    &#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>Select</strong></p>
</blockquote>
<p><strong>单选</strong></p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span></span><br><span class="xml">		<span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">selected</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml">		<span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>B<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml">		<span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>C<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Selected: </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> selected </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"> <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">var bool = true;</span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">    el: &quot;#demo&quot;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">        selected: &#x27;&#x27;</span><br><span class="xml">    &#125;</span><br><span class="xml">&#125;)</span><br></code></pre></div></td></tr></table></figure>
<p><strong>多选（绑定到一个数组）</strong></p>
<p><strong>多了一个multiple</strong></p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selected&quot;</span> <span class="hljs-attr">multiple</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">selected</span>&gt;</span>A<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>B<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>C<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Selected: </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml">  selected | json  </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">var bool = true;</span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">    el: &quot;#demo&quot;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">        selected: &#x27;&#x27;</span><br><span class="xml">    &#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p><strong>动态选项，用 v-for 渲染</strong></p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span></span><br><span class="xml">		<span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;option in options&quot;</span> <span class="hljs-attr">v-bind:value</span>=<span class="hljs-string">&quot;option.value&quot;</span>&gt;</span></span><br><span class="xml">			</span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> option.text </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><br><span class="xml">		<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Selected: </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> selected  </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">  el: &#x27;#demo&#x27;,</span><br><span class="xml">  data: &#123;</span><br><span class="xml">    selected: &#x27;A&#x27;,</span><br><span class="xml">    options: [</span><br><span class="xml">      &#123; text: &#x27;One&#x27;, value: &#x27;A&#x27; &#125;,</span><br><span class="xml">      &#123; text: &#x27;Two&#x27;, value: &#x27;B&#x27; &#125;,</span><br><span class="xml">      &#123; text: &#x27;Three&#x27;, value: &#x27;C&#x27; &#125;</span><br><span class="xml">    ]</span><br><span class="xml">  &#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<h2 id="绑定value">绑定value</h2>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 当选中时，`picked` 为字符串 &quot;a&quot; --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;picked&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;a&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- `toggle` 为 true 或 false --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;toggle&quot;</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 当选中时，`selected` 为字符串 &quot;abc&quot; --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;abc&quot;</span>&gt;</span>ABC<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>但是有时我们想<strong>绑定 value 到 Vue 实例的一个动态属性上，这时可以用 v-bind 实现，</strong>并且这个属性的值可以不是字符串。</p>
<blockquote>
<p><strong>Checkbox</strong></p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs verilog">&lt;<span class="hljs-keyword">input</span><br>  <span class="hljs-keyword">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span><br>  v-model=<span class="hljs-string">&quot;toggle&quot;</span><br>  v-<span class="hljs-keyword">bind</span>:true-value=<span class="hljs-string">&quot;a&quot;</span><br>  v-<span class="hljs-keyword">bind</span>:false-value=<span class="hljs-string">&quot;b&quot;</span>&gt;<br><span class="hljs-comment">// 当选中时</span><br>vm<span class="hljs-variable">.toggle</span> === vm<span class="hljs-variable">.a</span><br><span class="hljs-comment">// 当没有选中时</span><br>vm<span class="hljs-variable">.toggle</span> === vm<span class="hljs-variable">.b</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>Radio</strong></p>
</blockquote>
<figure class="highlight verilog"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs verilog">&lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">&quot;radio&quot;</span> v-model=<span class="hljs-string">&quot;pick&quot;</span> v-<span class="hljs-keyword">bind</span>:value=<span class="hljs-string">&quot;a&quot;</span>&gt;<br><span class="hljs-comment">// 当选中时</span><br>vm<span class="hljs-variable">.pick</span> === vm<span class="hljs-variable">.a</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>Select Options</strong></p>
</blockquote>
<figure class="highlight xquery"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xquery"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;selected&quot;</span>&gt;</span></span><br><span class="xml">  <span class="hljs-comment">&lt;!-- 对象字面量 --&gt;</span></span><br><span class="xml">  </span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">v-bind:value</span>=<span class="hljs-string">&quot;&#123; number: 123 &#125;&quot;</span>&gt;</span>123<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></span><br>// 当选中时<br>typeof vm.selected // -&gt; <span class="hljs-string">&#x27;object&#x27;</span><br>vm.selected<span class="hljs-built_in">.number</span> // -&gt; <span class="hljs-number">123</span><br></code></pre></div></td></tr></table></figure>
<h2 id="参数特性">参数特性</h2>
<blockquote>
<p><strong>lazy</strong></p>
</blockquote>
<p>在默认情况下，v-model 在input 事件中同步输入框值与数据，可以添加一个特性 lazy，从而改到在 change 事件中同步：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 在 &quot;change&quot; 而不是 &quot;input&quot; 事件中更新 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;msg&quot;</span> <span class="hljs-attr">lazy</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>number</strong></p>
</blockquote>
<p>如果想自动将用户的输入转为 Number 类型（如果原值的转换结果为 NaN 则返回原值），可以添加一个特性 number：</p>
<figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">&lt;<span class="hljs-built_in">input</span> v-model=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-keyword">number</span>&gt;<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>debounce</strong></p>
</blockquote>
<p>debounce 设置一个最小的延时，在每次敲击之后延时同步输入框的值与数据。如果每次更新都要进行高耗操作（例如在输入提示中 Ajax 请求），它较为有用。</p>
<figure class="highlight django"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs django"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;demo&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;toggle&quot;</span> <span class="hljs-attr">debounce</span>=<span class="hljs-string">&quot;500&quot;</span>&gt;</span></span><br><span class="xml">	<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span> </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> openvariable %&#125;</span><span class="xml"> toggle </span><span class="hljs-template-tag">&#123;% <span class="hljs-name"><span class="hljs-name">templatetag</span></span> closevariable %&#125;</span><span class="xml"> <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">new Vue(&#123;</span><br><span class="xml">    el: &#x27;#demo&#x27;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">    	toggle:&quot;&quot;</span><br><span class="xml">    &#125;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<p>注意 debounce 参数不会延迟 input 事件：它延迟“写入”底层数据。因此在使用 debounce 时应当用 vm.$watch() 响应数据的变化。若想延迟 DOM 事件，应当使用 debounce 过滤器。</p>
<h1 id="组件">组件</h1>
<p>组件（Component）是 Vue.js 最强大的功能之一。<strong>组件可以扩展 HTML 元素，封装可重用的代码。在较高层面上，组件是自定义元素，Vue.js 的编译器为它添加特殊功能。</strong>在有些情况下，组件也可以是原生 HTML 元素的形式，以 is 特性扩展。</p>
<h2 id="使用组件---extend----component">使用组件---extend----component</h2>
<p><strong>页面渲染的时候</strong></p>
<figure class="highlight xl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xl">&lt;<span class="hljs-function"><span class="hljs-title">my</span>-component&gt;&lt;/my-component&gt; --&gt;</span> <span class="hljs-function"><span class="hljs-title">my</span>-component --&gt;</span> M<span class="hljs-function"><span class="hljs-title">yComponent</span> --&gt;</span> &lt;div&gt;A custom component!&lt;/div&gt;<br><br></code></pre></div></td></tr></table></figure>
<p><strong>使用的时候</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml">创建一个组件构造器 -----&gt; 得到<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>A custom component!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>--&gt;MyComponent的关联关系，然后进行注册。 -----&gt; 得到MyComponent--&gt;my-component的关系。    这样一来，使用<span class="hljs-tag">&lt;<span class="hljs-name">my-component</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span>就得到<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>A custom component!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>了。<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>1、注册</strong></p>
</blockquote>
<p>可以用 Vue.extend() 创建一个组件构造器： <figure class="highlight reasonml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs reasonml">var MyComponent = <span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Vue</span>.</span></span>extend(&#123;<br>  <span class="hljs-comment">// 选项...</span><br>&#125;)<br></code></pre></div></td></tr></table></figure> 要把这个构造器用作组件，需要用 Vue.component(tag, constructor) 注册 ：</p>
<figure class="highlight vhdl"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vhdl">// 全局注册组件，tag 为 my-<span class="hljs-keyword">component</span><br>Vue.<span class="hljs-keyword">component</span>(<span class="hljs-symbol">&#x27;my</span>-<span class="hljs-keyword">component</span>&#x27;, MyComponent)<br></code></pre></div></td></tr></table></figure>
<p>实例：<strong>注意，使用的是extend不是extends。</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;example&quot;</span>&gt;</span><br>	<span class="hljs-tag">&lt;<span class="hljs-name">my-component</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">	<span class="hljs-comment">//创建一个组件构造器</span></span><br><span class="javascript">	<span class="hljs-keyword">var</span> MyComponent = Vue.extend(&#123;</span><br><span class="handlebars"><span class="xml">		template:&#x27;<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>A custom component!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>&#x27;</span></span><br>	&#125;)<br><span class="javascript">	<span class="hljs-comment">//注册，把MyComponent注册成my-componen这个名字</span></span><br><span class="javascript">	Vue.component(<span class="hljs-string">&#x27;my-component&#x27;</span>,MyComponent)</span><br><span class="javascript">	<span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">		el:<span class="hljs-string">&#x27;#example&#x27;</span></span><br>	&#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>注意组件的模板替换了自定义元素，<strong>自定义元素的作用只是作为一个挂载点。</strong>可以用实例选项 replace 决定是否替换。</p>
<blockquote>
<p><strong>2、局部注册</strong></p>
</blockquote>
<p>不需要全局注册每个组件。可以让组件只能用在其它组件内，用实例选项 components 注册，局部注册和全局注册的区别是，局部注册是在父类组件的components中注册</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-selector-tag">var</span> Child = Vue<span class="hljs-selector-class">.extend</span>(&#123; <span class="hljs-comment">/* ... */</span> &#125;)<br><br><span class="hljs-selector-tag">var</span> Parent = Vue<span class="hljs-selector-class">.extend</span>(&#123;<br>  template: <span class="hljs-string">&#x27;...&#x27;</span>,<br>  components: &#123;<br>    <span class="hljs-comment">// &lt;my-component&gt; 只能用在父组件模板内</span><br>    <span class="hljs-string">&#x27;my-component&#x27;</span>: Child<br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>这种封装也适用于其它资源，如<strong>指令、过滤器和过渡</strong>。</p>
<blockquote>
<p><strong>3、注册语法糖</strong></p>
</blockquote>
<p>为了让事件更简单，可以直接传入选项对象而不是构造器给 Vue.component() 和 component 选项。Vue.js 在背后自动调用 Vue.extend()：</p>
<figure class="highlight stylus"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs stylus"><span class="hljs-comment">// 在一个步骤中扩展与注册</span><br>Vue<span class="hljs-selector-class">.component</span>(<span class="hljs-string">&#x27;my-component&#x27;</span>, &#123;<br>  template: <span class="hljs-string">&#x27;&lt;div&gt;A custom component!&lt;/div&gt;&#x27;</span><br>&#125;)<br><br><span class="hljs-comment">// 局部注册也可以这么做</span><br><span class="hljs-selector-tag">var</span> Parent = Vue<span class="hljs-selector-class">.extend</span>(&#123;<br>  components: &#123;<br>    <span class="hljs-string">&#x27;my-component&#x27;</span>: &#123;<br>      template: <span class="hljs-string">&#x27;&lt;div&gt;A custom component!&lt;/div&gt;&#x27;</span><br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>4、组件选项问题</strong></p>
</blockquote>
<p>传入 Vue 构造器的多数选项也可以用在 Vue.extend() 中，不过有两个特例： <strong>data 和 el</strong>。试想如果我们简单地把一个对象作为 data 选项传给 Vue.extend()：</p>
<figure class="highlight haskell"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs haskell"><span class="hljs-title">var</span> <span class="hljs-class"><span class="hljs-keyword">data</span> = &#123; <span class="hljs-title">a</span>: 1 &#125;</span><br><span class="hljs-title">var</span> <span class="hljs-type">MyComponent</span> = <span class="hljs-type">Vue</span>.extend(&#123;<br>  <span class="hljs-class"><span class="hljs-keyword">data</span>: <span class="hljs-keyword">data</span></span><br>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>这么做的问题是 <strong>MyComponent 所有的实例将共享同一个 data 对象！</strong>这基本不是我们想要的，因此我们应当<strong>使用一个函数作为 data 选项，让这个函数返回一个新对象：</strong></p>
<figure class="highlight vim"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs vim">var MyComponent = Vue.<span class="hljs-built_in">extend</span>(&#123;<br>  dat<span class="hljs-variable">a:</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> &#123;</span><br>    <span class="hljs-keyword">return</span> &#123; <span class="hljs-variable">a:</span> <span class="hljs-number">1</span> &#125;<br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>同理，<strong>el 选项用在 Vue.extend() 中时也须是一个函数。</strong></p>
<blockquote>
<p><strong>5、模板解析问题</strong></p>
</blockquote>
<p>Vue 的模板是 DOM 模板，使用浏览器原生的解析器而不是自己实现一个。相比字符串模板，DOM 模板有一些好处，但是也有问题，它必须是有效的 HTML 片段。一些 HTML 元素对什么元素可以放在它里面有限制。常见的限制：</p>
<ol type="1">
<li>a 不能包含其它的交互元素（如按钮，链接）</li>
<li>ul 和 ol 只能直接包含 li</li>
<li>select 只能包含 option 和 optgroup</li>
<li>table 只能直接包含 thead, tbody, tfoot, tr, caption, col, colgroup</li>
<li>tr 只能直接包含 th 和 td</li>
</ol>
<p>在实际中，这些限制会导致意外的结果。尽管在简单的情况下它可能可以工作，但是你不能依赖自定义组件在浏览器验证之前的展开结果。例如 <code>&lt;my-select&gt;&lt;option&gt;...&lt;/option&gt;&lt;/my-select&gt;</code> 不是有效的模板，即使 my-select 组件最终展开为 <code>&lt;select&gt;...&lt;/select&gt;</code>。</p>
<p>另一个结果是，<strong>自定义标签（包括自定义元素和特殊标签，如 <code>&lt;component&gt;、&lt;template&gt;、 &lt;partial&gt;</code> ）不能用在 ul, select, table 等对内部元素有限制的标签内。</strong>放在这些元素内部的自定义标签将被提到元素的外面，因而渲染不正确。</p>
<p><strong>对于自定义元素，应当使用 is 特性：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">is</span>=<span class="hljs-string">&quot;my-component&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span> 不能用在 <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span> 内，这时应使用 <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>，<span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span> 可以有多个 <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>：<br><br><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in items&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>Even row<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>Odd row<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>6、Props</strong></p>
</blockquote>
<p>使用 Props 传递数据</p>
<p>组件实例的作用域是孤立的。这意味着不能并且不应该在子组件的模板内直接引用父组件的数据。<strong>可以使用 props 把数据</strong>传给子组件。</p>
<p><strong>“prop” 是组件数据的一个字段，期望从父组件传下来。子组件需要显式地用 props 选项 声明 props：</strong></p>
<figure class="highlight awk"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs awk">Vue.component(<span class="hljs-string">&#x27;child&#x27;</span>, &#123;<br>  <span class="hljs-regexp">//</span> 声明 props<br>  props: [<span class="hljs-string">&#x27;msg&#x27;</span>],<br>  <span class="hljs-regexp">//</span> prop 可以用在模板内<br>  <span class="hljs-regexp">//</span> 可以用 `this.msg` 设置<br>  template: <span class="hljs-string">&#x27;&lt;span&gt;&#123;&#123; msg &#125;&#125;&lt;/span&gt;&#x27;</span><br>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>然后向它传入一个普通字符串：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">msg</span>=<span class="hljs-string">&quot;hello!&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>7、camelCase vs. kebab-case</strong></p>
</blockquote>
<p>HTML 特性不区分大小写。<strong>名字形式为 camelCase 的 prop 用作特性时，需要转为 kebab-case（短横线隔开）：</strong></p>
<figure class="highlight handlebars"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs handlebars"><span class="xml">Vue.component(&#x27;child&#x27;, &#123;</span><br><span class="xml">  // camelCase in JavaScript</span><br><span class="xml">  props: [&#x27;myMessage&#x27;],</span><br><span class="xml">  template: &#x27;<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">myMessage</span> &#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>&#x27;</span><br><span class="xml">&#125;)</span><br><span class="xml"><span class="hljs-comment">&lt;!-- kebab-case in HTML --&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">my-message</span>=<span class="hljs-string">&quot;hello!&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span></span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>8、动态 Props</strong></p>
</blockquote>
<p>类似于用 v-bind 绑定 HTML 特性到一个表达式，<strong>也可以用 v-bind 绑定动态 Props 到父组件的数据</strong>。每当父组件的数据变化时，也会传导给子组件：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;parentMsg&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">v-bind:my-message</span>=<span class="hljs-string">&quot;parentMsg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>使用 v-bind 的缩写语法通常更简单：</p>
<figure class="highlight elixir"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs elixir">&lt;child <span class="hljs-symbol">:my-message=<span class="hljs-string">&quot;parentMsg&quot;</span>&gt;&lt;/child&gt;</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>9、字面量语法 vs. 动态语法</strong></p>
</blockquote>
<p>初学者常犯的一个错误是使用字面量语法传递数值：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 传递了一个字符串 &quot;1&quot; --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">comp</span> <span class="hljs-attr">some-prop</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>因为它是一个字面 prop，它的值以字符串 "1" 而不是以实际的数字传下去。如果想传递一个实际的 JavaScript 数字，需要使用动态语法，从而让它的值被当作 JavaScript 表达式计算：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 传递实际的数字  --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">comp</span> <span class="hljs-attr">:some-prop</span>=<span class="hljs-string">&quot;1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">comp</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<blockquote>
<p><strong>10、Prop绑定类型</strong></p>
</blockquote>
<p>prop 默认是单向绑定：当父组件的属性变化时，将传导给子组件，但是反过来不会。这是为了防止子组件无意修改了父组件的状态——这会让应用的数据流难以理解。不过，<strong>也可以使用 .sync 或 .once 绑定修饰符显式地强制双向或单次绑定：</strong></p>
<p>比较语法：</p>
<figure class="highlight xml"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 默认为单向绑定 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">:msg</span>=<span class="hljs-string">&quot;parentMsg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 双向绑定 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">:msg.sync</span>=<span class="hljs-string">&quot;parentMsg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 单次绑定 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">child</span> <span class="hljs-attr">:msg.once</span>=<span class="hljs-string">&quot;parentMsg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child</span>&gt;</span><br></code></pre></div></td></tr></table></figure>
<p>双向绑定<strong>会把子组件的 msg 属性同步回父组件的 parentMsg 属性</strong>。单次绑定在建立之后不会同步之后的变化。</p>
<p>注意如果 prop 是一个对象或数组，是按引用传递。在子组件内修改它会影响父组件的状态，不管是使用哪种绑定类型。</p>
<blockquote>
<p><strong>11、Prop 验证</strong></p>
</blockquote>
<p>组件可以为 props 指定验证要求。当组件给其他人使用时这很有用，因为这些验证要求构成了组件的 API，确保其他人正确地使用组件。此时 props 的值是一个对象，包含验证要求：</p>
<figure class="highlight javascript"><table><tr><td class="gutter hljs"><div class="hljs code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></div></td><td class="code"><div class="hljs code-wrapper"><pre><code class="hljs javascript">Vue.component(<span class="hljs-string">&#x27;example&#x27;</span>, &#123;<br>  props: &#123;<br>    <span class="hljs-comment">// 基础类型检测 （`null` 意思是任何类型都可以）</span><br>    propA: <span class="hljs-built_in">Number</span>,<br>    <span class="hljs-comment">// 多种类型 (1.0.21+)</span><br>    propM: [<span class="hljs-built_in">String</span>, <span class="hljs-built_in">Number</span>],<br>    <span class="hljs-comment">// 必需且是字符串</span><br>    propB: &#123;<br>      type: <span class="hljs-built_in">String</span>,<br>      required: <span class="hljs-literal">true</span><br>    &#125;,<br>    <span class="hljs-comment">// 数字，有默认值</span><br>    propC: &#123;<br>      type: <span class="hljs-built_in">Number</span>,<br>      <span class="hljs-keyword">default</span>: <span class="hljs-number">100</span><br>    &#125;,<br>    <span class="hljs-comment">// 对象/数组的默认值应当由一个函数返回</span><br>    propD: &#123;<br>      type: <span class="hljs-built_in">Object</span>,<br>      <span class="hljs-keyword">default</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>&#123;<br>        <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">msg</span>: <span class="hljs-string">&#x27;hello&#x27;</span> &#125;<br>      &#125;<br>    &#125;,<br>    <span class="hljs-comment">// 指定这个 prop 为双向绑定</span><br>    <span class="hljs-comment">// 如果绑定类型不对将抛出一条警告</span><br>    propE: &#123;<br>      twoWay: <span class="hljs-literal">true</span><br>    &#125;,<br>    <span class="hljs-comment">// 自定义验证函数</span><br>    propF: &#123;<br>      validator: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>&#123;<br>        <span class="hljs-keyword">return</span> value &gt; <span class="hljs-number">10</span><br>      &#125;<br>    &#125;,<br>    <span class="hljs-comment">// 转换函数（1.0.12 新增）</span><br>    <span class="hljs-comment">// 在设置值之前转换值</span><br>    propG: &#123;<br>      coerce: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) </span>&#123;<br>        <span class="hljs-keyword">return</span> val + <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// 将值转换为字符串</span><br>      &#125;<br>    &#125;,<br>    propH: &#123;<br>      coerce: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) </span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(val) <span class="hljs-comment">// 将 JSON 字符串转换为对象</span><br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></div></td></tr></table></figure>
<p>type 可以是下面原生构造器：</p>
<ol type="1">
<li>String</li>
<li>Number</li>
<li>Boolean</li>
<li>Function</li>
<li>Object</li>
<li>Array</li>
</ol>
<p><strong>type 也可以是一个自定义构造器，使用 instanceof 检测。</strong></p>
<p>当 prop 验证失败了，Vue 将拒绝在子组件上设置此值，如果使用的是开发版本会抛出一条警告。</p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">前端开发</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Vue-js/">Vue.js</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2016/07/18/Django%E7%9F%A5%E8%AF%86%E7%82%B9/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Django 知识点</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2016/07/11/Git%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86/">
                        <span class="hidden-mobile">Git入门教程</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_config = function() {
        this.page.url = 'http://example.com/2016/07/15/Vue.js%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/';
        this.page.identifier = '/2016/07/15/Vue.js%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/';
      };
      Fluid.utils.waitElementVisible('disqus_thread', function () {
        var d = document, s = d.createElement('script');
        s.src = '//' + 'codesisart' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', new Date());
        (d.head || d.body).appendChild(s);
      });
    </script>
    <noscript>Please enable JavaScript to view the
      <a target="_blank" href="https://disqus.com/?ref_noscript" rel="nofollow noopener noopener">comments powered by Disqus.</a>
    </noscript>
  </div>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js" ></script>






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>









  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8.8.3/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>







<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>

<!-- <script type="text/javascript" src="/js/cdnjs.cloudflare.com_ajax_libs_mathjax_2.7.1_MathJax.js_config=TeX-MML-AM_CHTML"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<!-- <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->


</body>
</html>
